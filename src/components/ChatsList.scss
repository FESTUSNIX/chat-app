@use '../colors' as *;

.chat-list {
	max-height: 80vh;
	margin-top: 1em;
	display: flex;
	flex-direction: column;
	gap: 10px;
	overflow-y: scroll;

	&:hover {
		a::after {
			opacity: 1;
		}
	}

	a {
		position: relative;
		display: flex;
		align-items: center;
		justify-content: center;
		border-radius: var(--border-radius);
		text-decoration: none;
		background-color: var(--border-color);
		z-index: 1;

		&.unread {
			.card-content {
				.chat-info {
					.display-name,
					.last-chat {
						font-weight: bold;
						color: var(--text-primary);
					}
				}
			}
		}

		&:hover {
			&::before {
				opacity: 1;
			}
		}

		&::before,
		&::after {
			content: '';
			width: 100%;
			border-radius: inherit;
			height: 100%;
			left: 0;
			opacity: 0;
			position: absolute;
			top: 0;
			transition: opacity 500ms;
		}

		&::before {
			background: radial-gradient(
				800px circle at var(--mouse-x) var(--mouse-y),
				rgba(255, 255, 255, 0.06),
				transparent 40%
			);
			z-index: 3;
		}

		&::after {
			background: radial-gradient(
				150px circle at var(--mouse-x) var(--mouse-y),
				rgba(255, 255, 255, 0.4),
				transparent 40%
			);
			z-index: 1;
		}

		.card-content {
			width: calc(100% - 2px);
			height: calc(100% - 2px);
			display: flex;
			align-items: center;
			gap: 10px;
			padding: 16px;
			border-radius: inherit;
			margin: 1px;
			background-color: var(--bg-dark);
			color: inherit;
			z-index: 2;

			.avatar-container {
				position: relative;
				display: flex;
				justify-content: center;
				align-items: center;
				overflow: hidden;
				.avatar {
					width: 45px;
					height: 45px;
					margin-right: 10px;
					z-index: 0;
				}

				.online-user {
					width: 16px;
					height: 16px;
					position: absolute;
					top: -2px;
					right: calc(-2px + 10px);
					display: flex;
					justify-content: center;
					align-items: center;
					border-radius: 50%;
					background-color: var(--bg-secondary);
					z-index: 10;

					.status-circle {
						width: 10px;
						height: 10px;
						border-radius: 50%;
						background-color: #0ebb50;
					}
				}
			}

			.chat-info {
				display: flex;
				flex-direction: column;
				justify-content: center;
				.display-name {
					font-weight: 400;
					font-size: 1.5rem;
					color: var(--text-primary);

					span {
						color: var(--text-mid-contrast);
					}
				}
				.last-chat {
					display: flex;
					align-items: center;
					color: var(--text-mid-contrast);
					.last-message {
						font-size: 1.3rem;
						overflow: hidden;
					}

					.comment-date {
						position: relative;
						font-size: 1.2rem;
					}
					.dot {
						height: 2px;
						width: 2px;
						margin: 0 5px;
						background-color: var(--text-low-contrast);
					}
				}
			}
		}
	}
}
