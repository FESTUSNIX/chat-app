(this["webpackJsonpmessenger-copy"]=this["webpackJsonpmessenger-copy"]||[]).push([[0],{120:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){},141:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){"use strict";n.r(t);var s=n(2),c=n.n(s),a=n(37),r=n.n(a),i=(n(88),n(6)),o=n(19),l=n(18),u=n(11),d=n(39);n(148),n(90),n(149);d.a.initializeApp({apiKey:"AIzaSyBMB6C-_B61S1wd1RYAr34jomKZpvq16eA",authDomain:"better-react-messenger.firebaseapp.com",projectId:"better-react-messenger",storageBucket:"better-react-messenger.appspot.com",messagingSenderId:"381225253186",appId:"1:381225253186:web:43a9fb8cce6b202f31f0db"});var j=d.a.firestore(),b=d.a.auth(),m=d.a.storage(),h=new d.a.auth.GoogleAuthProvider,O=new d.a.auth.GithubAuthProvider;h.setCustomParameters({prompt:"select_account"});var f,p=d.a.firestore.Timestamp,x=n(0),g=Object(s.createContext)(),v=function(e,t){switch(t.type){case"LOGIN":return Object(u.a)(Object(u.a)({},e),{},{user:t.payload});case"LOGOUT":return Object(u.a)(Object(u.a)({},e),{},{user:null});case"AUTH_IS_READY":return{user:t.payload,authIsReady:!0};default:return e}},N=function(e){var t=e.children,n=Object(s.useReducer)(v,{user:null,authIsReady:!1}),c=Object(i.a)(n,2),a=c[0],r=c[1];return Object(s.useEffect)((function(){var e=b.onAuthStateChanged((function(t){r({type:"AUTH_IS_READY",payload:t}),e()}))}),[]),Object(x.jsx)(g.Provider,{value:Object(u.a)(Object(u.a)({},a),{},{dispatch:r}),children:t})},w=function(){var e=Object(s.useContext)(g);if(!e)throw Error("useAuthContext must be used inside an AuthContextProvider");return e},y=n(70),k=n(53);function C(e,t){var n=!1;if(e){"#"===e[0]&&(e=e.slice(1),n=!0);var s=parseInt(e.substring(0,2),16),c=parseInt(e.substring(2,4),16),a=parseInt(e.substring(4,6),16);return(s+=t)>255?s=255:s<0&&(s=0),(c+=t)>255?c=255:c<0&&(c=0),(a+=t)>255?a=255:a<0&&(a=0),(n?"#":"")+(1===s.toString(16).length?"0"+s.toString(16):s.toString(16))+(1===c.toString(16).length?"0"+c.toString(16):c.toString(16))+(1===a.toString(16).length?"0"+a.toString(16):a.toString(16))}}var S=Object(k.b)(f||(f=Object(y.a)(["\n#root {\n    --bg-dark: ",";\n    --bg-dark-lighten5: ",";\n    --bg-dark-lighten7: ",";\n    --bg-dark-lighten10: ",";\n    --bg-dark-lighten15: ",";\n    --bg-dark-lighten20: ",";\n    --bg-dark-lighten25: ",";\n    --bg-dark-lighten90: ",";\n    --bg-dark-lighten120: ",";\n\n    --bg-secondary: ",";\n\t--bg-secondary-lighten5: ",";\n\t--bg-secondary-lighten10: ",";\n\t--bg-secondary-lighten15: ",";\n\t--bg-secondary-lighten50: ",";\n\n    --input-bg: ",";\n    --input-text: ",";\n\t--input-border: ",";\n\n    --message-bg: ",";\n    --message-color: ",";\n\t--message-border: ",";\n\t\n    --message-bg-owner: ",";\n    --message-color-owner: ",";\n\t--message-border-owner: ",";\n\t\n    --text-accent: ",";\n    --text-accent-darken25: ",";\n    --text-accent-darken35: ",";\n\n    --border-radius: ","px;\n    --border-color: ",";\n\n    --text-primary:  ",";\n    --text-primary-darken20:  ",";\n    --text-primary-darken50:  ",";\n    --text-primary-darken100:  ",";\n\n    --text-heading: ",";\n    --text-low-contrast: ","; \n    --text-mid-contrast: ","; \n\t\n    --btn-text: ",";\n\n}\n"])),(function(e){return e.theme.colors.bgDark}),(function(e){return C(e.theme.colors.bgDark,5)}),(function(e){return C(e.theme.colors.bgDark,7)}),(function(e){return C(e.theme.colors.bgDark,10)}),(function(e){return C(e.theme.colors.bgDark,15)}),(function(e){return C(e.theme.colors.bgDark,20)}),(function(e){return C(e.theme.colors.bgDark,25)}),(function(e){return C(e.theme.colors.bgDark,90)}),(function(e){return C(e.theme.colors.bgDark,120)}),(function(e){return e.theme.colors.bgSecondary}),(function(e){return C(e.theme.colors.bgSecondary,5)}),(function(e){return C(e.theme.colors.bgSecondary,10)}),(function(e){return C(e.theme.colors.bgSecondary,15)}),(function(e){return C(e.theme.colors.bgSecondary,50)}),(function(e){return e.theme.colors.inputBg}),(function(e){return e.theme.colors.inputText}),(function(e){return e.theme.colors.inputBorder}),(function(e){return e.theme.colors.msgBg}),(function(e){return e.theme.colors.messageColor}),(function(e){return e.theme.colors.msgBorder}),(function(e){return function(e){var t=null;return e.colors.msgBgOwner.forEach((function(e){t=null===t?"".concat(e.value):"".concat(t,", ").concat(e.value)})),1===e.colors.msgBgOwner.length?t:"linear-gradient(".concat(t,")")}(e.theme)}),(function(e){return e.theme.colors.messageColorOwner}),(function(e){return e.theme.colors.msgBorderOwner}),(function(e){return e.theme.colors.textAccent}),(function(e){return C(e.theme.colors.textAccent,-25)}),(function(e){return C(e.theme.colors.textAccent,-55)}),(function(e){return e.theme.borderRadius}),(function(e){return C(e.theme.colors.bgDark,15)}),(function(e){return e.theme.colors.textPrimary}),(function(e){return C(e.theme.colors.textPrimary,-20)}),(function(e){return C(e.theme.colors.textPrimary,-50)}),(function(e){return C(e.theme.colors.textPrimary,-100)}),(function(e){return C(e.theme.colors.textPrimary,30)}),(function(e){return e.theme.colors.textLowContrast}),(function(e){return C(e.theme.colors.textLowContrast,40)}),(function(e){return e.theme.colors.buttonColor})),_=n(17),D=function(e,t,n){var c=Object(s.useState)(null),a=Object(i.a)(c,2),r=a[0],o=a[1],l=Object(s.useState)(null),d=Object(i.a)(l,2),b=d[0],m=d[1],h=Object(s.useRef)(t).current,O=Object(s.useRef)(n).current;return Object(s.useEffect)((function(){var t,n,s=j.collection(e);h&&(s=(t=s).where.apply(t,Object(_.a)(h)));O&&(s=(n=s).orderBy.apply(n,Object(_.a)(O)));var c=s.onSnapshot((function(e){var t=[];e.docs.forEach((function(e){t.push(Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id}))})),o(t),m(null)}),(function(e){console.log(e),m("could not fetch the data")}));return function(){return c()}}),[e,h,O]),{documents:r,error:b}};n(94),n(95),n(96);function E(){return Object(x.jsx)("div",{className:"dashboard"})}var R=n(1),A=n.n(R),T=n(3),I=function(e,t){var n=Object(s.useState)(null),c=Object(i.a)(n,2),a=c[0],r=c[1],o=Object(s.useState)(null),l=Object(i.a)(o,2),d=l[0],b=l[1];return Object(s.useEffect)((function(){if(null!==t){var n=j.collection(e).doc(t).onSnapshot((function(e){e.data()?(r(Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id})),b(null)):b("No such document exists")}),(function(e){console.log(e.message),b("Failed to get document")}));return function(){return n()}}}),[e,t]),{document:a,error:d}},U={document:null,isPending:!1,error:null,success:null},P=function(e,t){switch(t.type){case"IS_PENDING":return{isPending:!0,document:null,success:!1,error:null};case"ADDED_DOCUMENT":return{isPending:!1,document:t.payload,success:!0,error:null};case"DELETED_DOCUMENT":return{isPending:!1,document:null,success:!0,error:null};case"UPDATED_DOCUMENT":return{isPending:!1,document:t.payload,success:!0,error:null};case"ERROR":return{isPending:!1,document:null,success:!1,error:t.payload};default:return e}},B=function(e){var t=Object(s.useReducer)(P,U),n=Object(i.a)(t,2),c=n[0],a=n[1],r=Object(s.useState)(!1),o=Object(i.a)(r,2),l=o[0],d=o[1],b=j.collection(e),m=function(e){l||a(e)},h=function(){var e=Object(T.a)(A.a.mark((function e(t){var n,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"IS_PENDING"}),e.prev=1,n=p.fromDate(new Date),e.next=5,b.add(Object(u.a)(Object(u.a)({},t),{},{createdAt:n}));case 5:s=e.sent,m({type:"ADDED_DOCUMENT",payload:s}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),m({type:"ERROR",payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(T.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"IS_PENDING"}),e.prev=1,e.next=4,b.doc(t).delete();case 4:m({type:"DELETED_DOCUMENT"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),m({type:"ERROR",payload:"could not delete"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(T.a)(A.a.mark((function e(t,n){var s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"IS_PENDING"}),e.prev=1,e.next=4,b.doc(t).update(n);case 4:return s=e.sent,m({type:"UPDATED_DOCUMENT",payload:s}),e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(1),m({type:"ERROR",payload:e.t0.message}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){return function(){return d(!0)}}),[]),{addDocument:h,deleteDocument:O,updateDocument:f,response:c}},L=(n(97),function(){var e,t,n,s,c,a,r,i=(new Date).toLocaleDateString();return{formatDate:function(r){var o=r.toDate();return t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][o.getDay()],s=o.getFullYear(),n=o.getMonth()+1<10?"0".concat(o.getMonth()+1):o.getMonth()+1,e=o.getDate()<10?"0"+o.getDate().toString():o.getDate().toString(),a="".concat(e,"/").concat(n,"/").concat(s),c=o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),a===i?c:function(e){var t=new Date;return t.setDate(t.getDate()-(t.getDay()-1)),t.setHours(0,0,0,0),t.getTime()<=e.getTime()&&e.getTime()<t.getTime()+6048e5}(o)?"".concat(t,". ").concat(c):"".concat(e,".").concat(n,".").concat(s,", ").concat(c)},dates:function(i){var o=i.toDate();return t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][o.getDay()],s=o.getFullYear(),n=o.getMonth()+1<10?"0"+o.getMonth()+1:o.getMonth()+1,e=o.getDate()<10?"0"+o.getDate().toString():o.getDate().toString(),a="".concat(e,"/").concat(n,"/").concat(s),c=o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),r="".concat(e,".").concat(n,".").concat(s,", ").concat(c),{dayOfWeek:t,year:s,month:n,dayOfMonth:e,curDate:a,hour:c,fullDate:r}},dayOfMonth:e,dayOfWeek:t,month:n,year:s,hour:c,curDate:a}}),M=n(74),F=n.n(M),z=(n(98),n(99),n.p+"static/media/logo-default.9dacd6cd.png");function G(e){var t=e.src;return Object(x.jsx)("div",{className:"avatar",children:Object(x.jsx)("img",{src:t||z,alt:""})})}var W=n(34),V=n.n(W),H="keyup";n(120);function J(e){var t=e.children,n=e.show,c=e.setShow,a=e.onClose,r=e.disableOCH;e.button1,e.button2;Object(s.useEffect)((function(){!1===n&&a&&a()}),[n]);return function(e){var t=Object(s.useCallback)((function(t){"Escape"===t.key&&e()}),[e]);Object(s.useEffect)((function(){return document.addEventListener(H,t,!1),function(){document.removeEventListener(H,t,!1)}}),[t])}((function(){c()})),n&&Object(x.jsx)("div",{className:"modal",children:Object(x.jsx)(V.a,{onOutsideClick:function(){c()},disabled:r,children:Object(x.jsxs)("div",{className:"modal__content",children:[t,Object(x.jsx)("i",{className:"fa-solid fa-xmark close-btn",onClick:function(){return c()}})]})})})}n(121);var Z=function(e){var t=e.children,n=e.pos,s=e.align,c=e.className;return Object(x.jsx)("div",{className:"tooltip ".concat(n||""," ").concat(s||""," ").concat(c||""),children:Object(x.jsx)("div",{className:"tooltip__content",children:t||"tooltip"})})},Y=(n(122),function(e){var t=e.userId,n=e.linkToProfile,c=e.noTooltip,a=e.noStatus,r=e.src,l=D("users").documents,u=Object(s.useState)(null),d=Object(i.a)(u,2),j=d[0],b=d[1];return Object(s.useEffect)((function(){l&&t&&null!==t&&b(l.filter((function(e){return e.id===t}))[0])}),[t,l]),j&&void 0!==j&&null!==j?Object(x.jsxs)("div",{className:"avatar-container",children:[n&&Object(x.jsx)(o.b,{to:"/profile/".concat(j.id),children:Object(x.jsx)(G,{src:r||""===r?r:j.photoURL})}),!n&&Object(x.jsx)(G,{src:r||""===r?r:j.photoURL}),j&&j.status&&!a&&Object(x.jsx)("span",{className:"status",children:Object(x.jsx)("div",{className:"status__dot status__dot--".concat(j.status),children:(!c||void 0===c)&&Object(x.jsx)(Z,{children:j.status})})})]}):null}),Q=(n(123),function(e){var t=e.condition,n=e.wrapper,s=e.children;return t?n(s):s});function X(e){var t=e.show,n=e.setShow,s=e.userId,c=e.pos,a=e.align,r=e.disableTooltip,i=B("users").updateDocument,l=I("users",s).document,u=w().user,d=function(){var e=Object(T.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(u.uid,{status:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return!0===t&&n&&l?Object(x.jsx)(Q,{condition:!r,wrapper:function(e){return Object(x.jsx)(V.a,{onOutsideClick:function(){return n(!1)},children:Object(x.jsx)(Z,{pos:c||"top",align:a||"end",className:"profile-preview-tooltip",children:e})})},children:Object(x.jsxs)("div",{className:"profile-preview",children:[Object(x.jsx)("div",{className:"profile-preview__banner",style:{backgroundColor:l.banner}}),Object(x.jsxs)("div",{className:"profile-preview__header",children:[l&&Object(x.jsx)("div",{onClick:function(){n(!1)},children:Object(x.jsx)(Y,{userId:l.id,linkToProfile:!0})}),s===u.uid&&Object(x.jsx)(o.b,{to:"/settings",onClick:function(){n(!1)},children:Object(x.jsx)("i",{className:"fa-solid fa-gear"})})]}),Object(x.jsxs)("div",{className:"profile-preview__info",children:[Object(x.jsx)("h3",{className:"name",children:l.displayName}),Object(x.jsx)("div",{className:"separator"}),Object(x.jsxs)("div",{className:"cards",children:[Object(x.jsxs)("div",{className:"cards__card",children:[Object(x.jsx)("h4",{children:"About me"}),l.bio&&Object(x.jsx)("p",{className:"bio",children:l.bio})]}),Object(x.jsxs)("div",{className:"cards__card",children:[Object(x.jsx)("h4",{children:"Member since"}),Object(x.jsx)("p",{children:l.createdAt})]}),s===u.uid&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"separator"}),Object(x.jsxs)("div",{className:"status-picker",children:[Object(x.jsxs)("div",{className:"flex-row",children:[Object(x.jsx)("div",{className:"status-dot status-dot--".concat(l.status)}),Object(x.jsx)("span",{children:"do-not-disturb"===l.status?"do not disturb":l.status})]}),Object(x.jsx)("i",{className:"fa-solid fa-angle-right"}),Object(x.jsx)("div",{className:"tooltip-container",children:Object(x.jsx)(Z,{children:Object(x.jsx)("div",{className:"picker",children:["online","idle","do-not-disturb","invisible"].map((function(e){return Object(x.jsxs)("div",{className:"status ".concat(e===l.status?"status--current":""),onClick:function(){return d(e)},children:[Object(x.jsx)("span",{className:"status-dot status-dot--".concat(e)}),Object(x.jsx)("span",{className:"status__name",children:"do-not-disturb"===e?"do not disturb":e})]},e)}))})})})]})]})]})]})]})}):null}var q=n(29);function K(e){var t=e.message,n=e.elements,a=e.i,r=e.chat,o=e.onMessageResponse,l=e.setMessageToDelete,d=e.showImage,j=e.setShowImage,b=w().user,m=B("projects").updateDocument,h=L().formatDate,O=D("users").documents,f=Object(s.useState)(null),p=Object(i.a)(f,2),g=p[0],v=p[1],N=Object(s.useState)(!1),y=Object(i.a)(N,2),k=y[0],C=y[1],S=Object(s.useState)([]),E=Object(i.a)(S,2),R=E[0],I=E[1],U=Object(s.useState)(!1),P=Object(i.a)(U,2),M=P[0],F=P[1],z=function(e,t){if(e[t]&&e[t-1]){var n=e[t].createdAt.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),s=e[t-1].createdAt.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),c=new Date("01/01/2022 "+n+":00").getTime(),a=new Date("01/01/2022 "+s+":00").getTime();return Math.abs(c-a)>=9e5}},W=function(e,t){if(e[t+1]&&e[t]){var n=e[t+1].createdAt.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),s=e[t].createdAt.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),c=new Date("01/01/2022 "+n+":00").getTime(),a=new Date("01/01/2022 "+s+":00").getTime();return Math.abs(c-a)>=9e5}},H=function(){var e=Object(T.a)(A.a.mark((function e(t,n){var s,c,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.messages.indexOf(n),c=null,n.emojiReactions&&n.emojiReactions.length>0&&n.emojiReactions.forEach((function(e){null!==e&&e.id!==b.uid&&(c=e)})),a={id:b.uid,content:t.emoji},r.messages[s]=Object(u.a)(Object(u.a)({},r.messages[s]),{},{emojiReactions:[c||null,Object(u.a)({},a)]}),e.prev=5,e.next=8,m(r.id,{messages:Object(_.a)(r.messages)});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t,n){return e.apply(this,arguments)}}(),Q=function(e){var t;return r.assignedUsers.forEach((function(n){n.id===e.id&&(t=""!==n.nickname?n.nickname:n.displayName)})),t},K=function(){var e=Object(T.a)(A.a.mark((function e(t,n){var s,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=null,n.id!==b.uid){e.next=15;break}return t.emojiReactions.length>0&&t.emojiReactions.forEach((function(e){null!==e&&e.id!==b.uid&&(s=e)})),c=r.messages.indexOf(t),r.messages[c]=Object(u.a)(Object(u.a)({},r.messages[c]),{},{emojiReactions:[s]}),e.prev=5,e.next=8,m(r.id,{messages:Object(_.a)(r.messages)});case 8:I([]),C(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}(),$=function(e){var t=null;return O&&(t=O.filter((function(t){return t.id===e}))[0]),t},ee=function(e){var t=null;return r&&r.assignedUsers.forEach((function(n){n.id===e&&(t=n)})),t},te=function(){return!(!n[a+1]||n[a-1]&&n[a-1].createdBy===t.createdBy&&null===n[a+1].response&&!z(n,a)&&null===t.response||n[a+1].createdBy!==t.createdBy||null!==n[a+1].response||W(n,a))},ne=function(){return!(!n[a-1]||!n[a+1]||n[a-1].createdBy!==t.createdBy&&null===n[a-1].response||n[a+1].createdBy!==t.createdBy||null!==n[a+1].response||z(n,a)||W(n,a))},se=function(){return!(!n[a-1]||n[a-1].createdBy!==t.createdBy||null!==t.response||!(!n[a+1]&&null===t.response||n[a+1]&&(null!==n[a+1].response||n[a+1].createdBy!==t.createdBy||W(n,a)))||z(n,a))};return Object(x.jsxs)(x.Fragment,{children:[t.isSpecial&&Object(x.jsx)("div",{className:"messages__centered mb05",children:t.content}),!t.isSpecial&&Object(x.jsxs)(x.Fragment,{children:[z(n,a)&&Object(x.jsx)("div",{className:"messages__centered mb1 mt2",children:h(t.createdAt)}),Object(x.jsxs)("li",{className:"".concat(te()?t.createdBy===b.uid?"group-top owner":"group-top":ne()?t.createdBy===b.uid?"group-middle owner":"group-middle":se()?t.createdBy===b.uid?"group-bottom owner":"group-bottom":t.createdBy===b.uid?"owner":""," ").concat(t.deleted?"deleted":""," ").concat(t.emojiReactions?"emoji-response":""),id:t.id,children:[t.createdBy!==b.uid&&(te()||!(ne()||se()))&&Object(x.jsx)("p",{className:"message-author",children:ee(t.createdBy).nickname}),null!==t.response&&Object(x.jsxs)("div",{onClick:function(){return function(e){var t=document.getElementById(e);t.scrollIntoView({block:"center"}),setTimeout((function(){t.classList.add("pop"),setTimeout((function(){t.classList.remove("pop")}),800)}),400)}(r.messages[t.response].id)},className:"response ".concat(r.messages[t.response].deleted?"deleted":""),children:[t.createdBy!==b.uid&&Object(x.jsx)("div",{className:"left-margin"}),r.messages[t.response].content&&Object(x.jsx)("div",{className:"response__message",children:r.messages[t.response].content.substring(0,55)}),Object(x.jsx)("div",{className:"response__img",children:r.messages[t.response].image&&("image"===r.messages[t.response].fileType?Object(x.jsx)("img",{src:r.messages[t.response].image,alt:""}):Object(x.jsx)("video",{src:r.messages[t.response].image}))})]}),Object(x.jsxs)("div",{className:"message-content",children:[t.createdBy!==b.uid&&Object(x.jsx)("div",{className:"left-margin",children:!ne()&&!te()&&Object(x.jsxs)("div",{className:"cursor-pointer",onClick:function(){return F(t.id)},children:[Object(x.jsx)(Y,{userId:t.createdBy,noStatus:!0}),Object(x.jsx)(X,{show:M===t.id,setShow:F,userId:t.createdBy,pos:"right",align:"end"})]})}),Object(x.jsxs)("div",{className:"message-content__text",children:[t.content&&Object(x.jsx)("p",{children:t.content}),t.image&&"image"===t.fileType&&Object(x.jsxs)("div",{className:"file-message",onClick:function(e){return function(e){d!==e.target.src&&j(e.target.src)}(e)},children:[Object(x.jsx)("img",{src:t.image,alt:""}),Object(x.jsx)("div",{className:"file-message__preview",children:Object(x.jsx)("i",{className:"fa-solid fa-up-right-and-down-left-from-center"})})]}),t.image&&"video"===t.fileType&&Object(x.jsxs)("div",{className:"file-message",children:[Object(x.jsx)("video",{src:t.image,controls:!0,playsInline:!0}),Object(x.jsx)("div",{className:"file-message__preview",children:Object(x.jsx)("i",{className:"fa-solid fa-up-right-and-down-left-from-center"})})]}),t.emojiReactions&&t.emojiReactions.length>0&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"emoji-reactions",onClick:function(){I(t.emojiReactions),C(!0)},children:t.emojiReactions.map((function(e){return null!==e?Object(x.jsxs)("div",{className:"emoji-reactions__reaction",children:[Object(x.jsx)("span",{className:"content",children:e.content}),Object(x.jsx)("span",{className:"display-name",children:Q(e)})]},e.id):null}))}),Object(x.jsx)(J,{show:k,setShow:function(){return C(!1)},onClose:function(){return I([])},children:Object(x.jsxs)("div",{className:"show-reactions",children:[Object(x.jsx)("h3",{children:"Reactions"}),R.map((function(e){return null!==e?Object(x.jsxs)("div",{className:"reaction ".concat(e.id===b.uid?"cursor-pointer":""),onClick:function(){K(t,e)},children:[Object(x.jsxs)("div",{className:"reaction__author",children:[Object(x.jsx)(G,{src:$(e.id).photoURL}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:ee(e.id).nickname}),e.id===b.uid&&Object(x.jsx)("p",{children:"Click to delete"})]})]}),Object(x.jsx)("span",{className:"reaction__emoji",children:e.content})]},e.id):null}))]})})]})]}),g===t&&Object(x.jsxs)("div",{className:"react-with-emoji",children:[Object(x.jsx)(V.a,{onOutsideClick:function(){v(null)},disabled:g!==t,children:Object(x.jsx)(q.d,{className:"emoji-picker",onEmojiClick:function(e){H(e,t)},theme:q.c.DARK,previewConfig:{defaultCaption:"",defaultEmoji:null},width:300,height:400,emojiStyle:q.b.NATIVE})}),Object(x.jsx)("svg",{height:"12",viewBox:"0 0 25 12",width:"25","data-darkreader-inline-fill":"",children:Object(x.jsx)("path",{d:"M24.553.103c-2.791.32-5.922 1.53-7.78 3.455l-9.62 7.023c-2.45 2.54-5.78 1.645-5.78-2.487V2.085C1.373 1.191.846.422.1.102h24.453z"})})]}),!t.deleted&&Object(x.jsxs)("div",{className:"message-tools ".concat(g===t?"visible":""),children:[Object(x.jsx)("i",{className:"fa-regular fa-face-smile",onClick:function(){v(t)},children:Object(x.jsx)(Z,{children:"React"})}),b.uid===t.createdBy&&Object(x.jsx)("i",{className:"fa-solid fa-trash-can",onClick:function(){return l(t)},children:Object(x.jsx)(Z,{children:"Remove"})}),Object(x.jsx)("i",{className:"fa-solid fa-reply",onClick:function(){o(Number(r.messages.indexOf(t)))},children:Object(x.jsx)(Z,{children:"Reply"})})]}),Object(x.jsx)("div",{className:"message-createdAt ".concat(g===t?"hidden":""),children:h(t.createdAt)})]}),Object(x.jsx)("div",{className:"seen",children:r.assignedUsers.map((function(e){return e.lastRead===t.id&&e.id!==b.uid&&Object(x.jsx)(c.a.Fragment,{children:Object(x.jsx)(G,{src:null!==$(e.id)?$(e.id).photoURL:""})},e.id)}))})]})]})]})}n(124);var $=function(e){var t=e.chat,n=e.onMessageResponse,c=e.setBottomDiv,a=(e.otherUser,e.currentUser,w().user),r=L().dates,o=B("projects").updateDocument,d=Object(s.useState)(""),j=Object(i.a)(d,2),b=j[0],m=j[1],h=Object(s.useState)(null),O=Object(i.a)(h,2),f=O[0],p=O[1],g=Object(s.useState)(!1),v=Object(i.a)(g,2),N=v[0],y=v[1],k=Object(l.k)(),C=Object(s.useRef)(),S=Object(s.useRef)();Object(s.useEffect)((function(){c(C),E()}),[]),Object(s.useEffect)((function(){c(C),E(),n(null)}),[k]),Object(s.useEffect)((function(){y(null!==f)}),[f,N]);var D=function(){var e=Object(T.a)(A.a.mark((function e(n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.uid!==n.createdBy){e.next=11;break}return t.messages[t.messages.indexOf(n)]=Object(u.a)(Object(u.a)({},t.messages[t.messages.indexOf(n)]),{},{content:"Message deleted",emojiReactions:null,deleted:!0}),e.prev=2,e.next=5,o(t.id,{messages:Object(_.a)(t.messages)});case 5:p(null),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){C.current&&C.current.scrollIntoView({block:"end"})};return Object(x.jsxs)("ul",{className:"messages custom-scrollbar",id:"messages",onScroll:function(e){return function(e){var t=e.target.scrollTop;-t<=300&&S.current.classList.remove("active"),-t>=300&&S.current.classList.add("active")}(e)},children:[b&&Object(x.jsxs)("div",{className:"full-img",children:[Object(x.jsxs)("div",{className:"full-img__background",children:[Object(x.jsx)("div",{className:"backdrop-blur"}),Object(x.jsx)("img",{src:b,alt:"",className:""})]}),Object(x.jsx)("div",{className:"wrapper",children:Object(x.jsx)("img",{src:b,alt:"",className:"full-img__img"})}),Object(x.jsxs)("div",{className:"full-img__tools",children:[Object(x.jsx)("div",{className:"tool",onClick:function(){F.a.saveAs(b)},children:Object(x.jsx)("i",{className:"fa-solid fa-download"})}),Object(x.jsx)("div",{className:"tool",onClick:function(){m("")},children:Object(x.jsx)("i",{className:"fa-solid fa-xmark"})})]})]}),Object(x.jsxs)("div",{className:"messages-wrapper",children:[Object(x.jsxs)("div",{className:"messages__conversation-start",children:[Object(x.jsx)("p",{children:"This is the start of your conversation with this user"}),Object(x.jsx)("p",{children:r(t.createdAt).fullDate})]}),t.messages.length>0&&t.messages.map((function(e,s,c){return Object(x.jsx)(K,{message:e,elements:c,i:s,chat:t,onMessageResponse:n,setMessageToDelete:p,showImage:b,setShowImage:m},e.id)})),Object(x.jsx)("div",{ref:C,className:"bottom-ref"})]}),Object(x.jsx)("div",{className:"scroll-down",onClick:function(){return E()},ref:S,children:Object(x.jsx)("i",{className:"fa-solid fa-arrow-down"})}),null!==f&&Object(x.jsx)(J,{show:N,setShow:function(){return p(null)},children:Object(x.jsxs)("div",{className:"confirm-message-delete",children:[Object(x.jsx)("h2",{children:"Delete message"}),Object(x.jsx)("p",{children:"Do you really want to delete this message?"}),Object(x.jsx)("p",{children:"Message to delete: "}),Object(x.jsxs)("div",{className:"message-to-delete custom-scrollbar",children:[f.content&&Object(x.jsxs)("span",{children:['"',f.content,'"']}),f.image&&Object(x.jsx)("img",{src:f.image,alt:""})]}),Object(x.jsxs)("div",{className:"vertical-btns",children:[Object(x.jsx)("button",{className:"btn btn--secondary",onClick:function(){p(null)},children:"Cancel"}),Object(x.jsx)("button",{className:"btn",onClick:function(){return D(f)},children:"Delete"})]})]})})]})},ee=n(150),te=n(32),ne=n(75),se=(n(125),function(e){var t=e.chat,n=e.messageResponse,c=e.onMessageResponse,a=e.bottomDiv,r=e.inputRef,o=e.otherUser,l=e.currentUser,u=Object(ee.a)(),d=B("projects"),j=d.updateDocument,b=d.response,h=D("users").documents,O=w().user,f=Object(s.useState)(""),g=Object(i.a)(f,2),v=g[0],N=g[1],y=Object(s.useState)(null),k=Object(i.a)(y,2),C=k[0],S=k[1],E=Object(s.useState)(!1),R=Object(i.a)(E,2),I=R[0],U=R[1],P=Object(s.useState)(t.chatEmoji),L=Object(i.a)(P,2),M=L[0],F=L[1],z=Object(s.useState)(!1),G=Object(i.a)(z,2),W=G[0],H=G[1],J=Object(s.useState)(!1),Z=Object(i.a)(J,2),Y=Z[0],Q=Z[1],X=Object(s.useState)(!1),K=Object(i.a)(X,2),$=K[0],se=K[1],ce=Object(s.useRef)(null);Object(s.useEffect)((function(){r.current.focus()}),[n]),Object(s.useEffect)((function(){t.assignedUsersId.forEach((function(e){e===O.uid&&U(!0)}))}),[U,t.assignedUsersId,O.uid]);var ae=function(){a.current.scrollIntoView({block:"end"})},re=function(){var e=Object(T.a)(A.a.mark((function e(){var s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(""!==(s={id:u,content:W?M:v,createdAt:p.fromDate(new Date),createdBy:O.uid,response:null!==n?n:null}).content.trim()&&v.length<900&&I)){e.next=5;break}return e.next=4,j(t.id,{messages:[].concat(Object(_.a)(t.messages),[s]),updatedAt:p.fromDate(new Date)});case 4:b.error||(se(!$),ae(),N(""),H(!1),c(null));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){document.messages&&document.messages.length>0&&j(t.id,{isRead:!0,assignedUsers:[o,{id:l.id,nickname:l.nickname,lastRead:t.messages[t.messages.length-1].id}]})}),[$]);var ie=function(){var e=Object(T.a)(A.a.mark((function e(){var s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:["image","video"].includes(C.type.split("/")[0])&&(s=Object(te.e)(m,"imgs/".concat(t.assignedUsersId[0]+t.assignedUsersId[1],"/").concat(Object(ee.a)()+C.name)),Object(te.f)(s,C).then((function(e){Object(te.b)(e.ref).then(function(){var e=Object(T.a)(A.a.mark((function e(s){var c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c={id:u,fileType:C.type.includes("image/")?"image":"video",image:s,createdAt:p.fromDate(new Date),createdBy:O.uid,response:null!==n?n:null},!I){e.next=5;break}return e.next=4,j(t.id,{messages:[].concat(Object(_.a)(t.messages),[c]),updatedAt:p.fromDate(new Date),isRead:!1});case 4:b.error||(se(!$),ae(),S(null));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(T.a)(A.a.mark((function e(t){var n,s,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],s={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0},e.prev=2,e.next=5,Object(ne.a)(n,s);case 5:return c=e.sent,e.next=8,S(c);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),le=function(e){e.preventDefault(),C?ie():re()},ue=Object(s.useState)(""),de=Object(i.a)(ue,2),je=de[0],be=de[1];return t&&Object(x.jsxs)("form",{onSubmit:le,children:[null!==n&&Object(x.jsxs)("div",{className:"response",children:[Object(x.jsxs)("div",{children:[Object(x.jsxs)("p",{className:"response__to",children:["Responding to"," ",Object(x.jsx)("span",{children:function(e){var t=null;return h&&(t=h.filter((function(t){return t.id===e}))[0]),t}(t.messages[n].createdBy).displayName===O.displayName?"yourself":Object(x.jsx)("b",{children:t.messages[n].displayName})})]}),Object(x.jsxs)("p",{className:"response__content",children:[t.messages[n].content&&Object(x.jsxs)(x.Fragment,{children:[t.messages[n].content.substring(0,70),t.messages[n].content.length>70?Object(x.jsx)("span",{children:"..."}):""]}),t.messages[n].image&&"image"===t.messages[n].fileType?"Image":"",t.messages[n].image&&"video"===t.messages[n].fileType?"Video":""]})]}),Object(x.jsx)("div",{className:"response__close-btn",onClick:function(){return c(null)},children:Object(x.jsx)("i",{className:"fa-solid fa-xmark"})})]}),Object(x.jsxs)("div",{className:"add-comment",children:[Object(x.jsxs)("label",{className:"attach-image",children:[Object(x.jsx)("input",{ref:ce,type:"file",accept:"video/*, image/*",onChange:function(e){return function(e){oe(e),be(URL.createObjectURL(e.target.files[0]))}(e)}}),Object(x.jsx)("i",{className:"fa-regular fa-image"})]}),Object(x.jsxs)("div",{className:"message-field",children:[Object(x.jsxs)("div",{className:"column",children:[C&&Object(x.jsx)("div",{className:"thumbnails",children:Object(x.jsxs)("div",{className:"file-thumbnail",children:[Object(x.jsx)("img",{src:je,alt:""}),Object(x.jsx)("button",{className:"remove-img",onClick:function(e){return function(e){e.preventDefault(),ce.current.value="",S(null)}(e)},children:Object(x.jsx)("i",{className:"fa-solid fa-xmark close-btn"})})]})}),Object(x.jsx)("label",{children:Object(x.jsx)("input",{maxLength:"900",placeholder:"Aa",onChange:function(e){return N(e.target.value)},value:v,onKeyDown:function(e){return function(e){"Enter"===e.code&&le(e)}(e)},ref:r})})]}),Object(x.jsx)("button",{className:"toggle-emoji-picker",onClick:function(e){e.preventDefault(),Q(!Y)},children:Object(x.jsx)("i",{className:"fa-regular fa-face-smile"})}),Y&&Object(x.jsx)(V.a,{onOutsideClick:function(){Q(!1)},children:Object(x.jsx)(q.d,{className:"emoji-picker",onEmojiClick:function(e){!function(e){N((function(t){return t+e.emoji}))}(e)},theme:q.c.DARK,previewConfig:{defaultCaption:"",defaultEmoji:null},emojiStyle:q.b.NATIVE})})]}),!C&&""===v.trim()&&Object(x.jsx)("button",{className:"input-tool",onClick:function(e){F(e.target.innerText),H(!0)},children:t.chatEmoji&&Object(x.jsx)(q.a,{unified:t.chatEmoji,emojiStyle:q.b.NATIVE,size:33})}),(""!==v.trim()||C)&&Object(x.jsx)("button",{type:"submit",className:"input-tool",children:Object(x.jsx)("i",{className:"fa-solid fa-paper-plane"})})]}),v.length>=900&&Object(x.jsx)("p",{className:"error",children:"Message can't be longer than 900 characters"})]})}),ce=n.p+"static/media/british-person.a8ef58d2.jpg",ae=function(e){var t=e.otherUserMessage,n=e.curUserMessage,s=e.bgDark,c=e.borderRadius,a=e.textColors,r=e.inputColors,i=e.confirmCustomTheme,o=e.setConfirmCustomTheme,l=e.submitCustomTheme,d=e.editedTheme,j=e.setShowThemePicker,b=e.setShowThemeCreator,m=e.buttonColor,h=e.name,O={backgroundColor:t.bg,color:t.text,border:"1px solid ".concat(t.border)},f={backgroundImage:"".concat(function(){var e=null;return n.bg.forEach((function(t){e=null===e?"".concat(t.value):"".concat(e,", ").concat(t.value)})),1===n.bg.length?"linear-gradient(".concat(e,", ").concat(e,")"):"linear-gradient(".concat(e,")")}()),backgroundAttachment:"fixed",backgroundPosition:"center 100%",backgroundSize:"auto 35%",borderRadius:"25px",border:"1px solid ".concat(n.border),color:n.text};return Object(x.jsxs)("div",{className:"theme-creator__preview",children:[Object(x.jsxs)("div",{className:"chat-preview",style:{backgroundColor:s.value,borderRadius:"".concat(c.value,"px")},children:[Object(x.jsxs)("div",{className:"chat-preview__top-bar",children:[Object(x.jsxs)("div",{className:"chat-preview__top-bar__user",children:[Object(x.jsx)(G,{src:ce}),Object(x.jsx)("span",{style:{color:a.primary},children:"John Doe"})]}),Object(x.jsx)("i",{className:"fa-solid fa-ellipsis-vertical",style:{color:a.accent}})]}),Object(x.jsxs)("div",{className:"chat-preview__messages",children:[Object(x.jsx)("div",{className:"message owner",style:Object(u.a)(Object(u.a)({},f),{},{borderRadius:"25px 25px 5px 25px"}),children:"Hello mate"}),Object(x.jsx)("div",{className:"message owner",style:Object(u.a)(Object(u.a)({},f),{},{borderRadius:"25px 5px 25px 25px"}),children:"it's tuesday init?"}),Object(x.jsx)("div",{className:"centered",style:{color:a.lowContrast},children:"Set quick emoji to \u2615"}),Object(x.jsx)("div",{className:"message",style:Object(u.a)(Object(u.a)({},O),{},{borderRadius:"25px 25px 25px 5px"}),children:"oh yes yes"}),Object(x.jsx)("div",{className:"message",style:Object(u.a)(Object(u.a)({},O),{},{borderRadius:"5px 25px 25px 5px"}),children:"what a lovely weather we have today"}),Object(x.jsx)("div",{className:"message",style:Object(u.a)(Object(u.a)({},O),{},{borderRadius:"5px 25px 25px 25px"}),children:"\ud83c\udf1e"}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{className:"message owner",style:Object(u.a)(Object(u.a)({},f),{},{borderRadius:"25px 25px 25px 25px"}),children:"*sips tea \ud83c\udf75*"})]}),Object(x.jsxs)("div",{className:"flex-row",children:[Object(x.jsx)("i",{className:"fa-regular fa-image",style:{color:a.accent}}),Object(x.jsxs)("div",{className:"chat-preview__input",style:{backgroundColor:r.bg,color:r.text,border:"1px solid ".concat(r.border)},children:[Object(x.jsx)("span",{children:"I love tea \ud83d\ude0d"}),Object(x.jsx)("i",{className:"fa-regular fa-face-smile",style:{color:a.accent}})]}),Object(x.jsx)("div",{className:"chat-preview__quick-emoji",children:"\u2615"})]})]}),Object(x.jsxs)(J,{show:i,setShow:function(){return o(!1)},children:[Object(x.jsx)("h3",{children:"Are you sure you want to proceed?"}),Object(x.jsxs)("div",{className:"btn-group",children:[Object(x.jsx)("div",{className:"btn btn--secondary",onClick:function(){return o(!1)},children:"go back"}),Object(x.jsxs)("div",{className:"btn",onClick:function(){return l()},children:[null!==d?"edit":"create"," theme"]})]})]}),Object(x.jsxs)("div",{className:"btn-group",children:[Object(x.jsx)("button",{className:"btn btn--secondary",onClick:function(){b(!1),j(!0)},style:{color:a.accent,border:"1px solid ".concat(a.accent),borderRadius:"".concat(c.value,"px")},children:"cancel"}),h.length>0&&Object(x.jsx)("button",{type:"submit",className:"btn",onClick:function(){o(!0)},style:{color:m.value,borderRadius:"".concat(c.value,"px"),border:"1px solid ".concat(a.accent),backgroundColor:a.accent},children:null!==d?"edit":"create"}),h.length<=0&&Object(x.jsx)("button",{className:"btn",disabled:!0,style:{color:m.value,borderRadius:"".concat(c.value,"px"),border:"1px solid ".concat(a.accent),backgroundColor:a.accent},children:null!==d?"edit":"create"})]})]})},re=function(e){var t=e.title,n=e.setShow,s=e.show,c=e.children;return Object(x.jsxs)("div",{className:"field",children:[Object(x.jsxs)("p",{onClick:function(){n()},children:[Object(x.jsx)("i",{className:"fa-solid fa-angle-right ".concat(s?"active":"")}),Object(x.jsx)("span",{children:t})]}),s&&c]})},ie=(n(126),function(e){var t=e.value,n=e.setValue,s=e.separator,c=e.children;return Object(x.jsxs)(x.Fragment,{children:[s&&Object(x.jsx)("div",{className:"separator",children:Object(x.jsx)("span",{children:s})}),Object(x.jsxs)("div",{className:"color-picker",children:[Object(x.jsx)("input",{type:"text",className:"color-picker__value",value:t,onChange:function(e){n(e)}}),Object(x.jsx)("input",{type:"color",value:t,onChange:function(e){n(e)}}),c]})]})});n(127);function oe(e){var t=e.setShowThemePicker,n=e.setShowThemeCreator,a=e.chat,r=e.editedTheme,o=e.setConfirmCustomTheme,l=e.confirmCustomTheme,d=B("projects").updateDocument,j=Object(s.useState)(r?r.name:""),b=Object(i.a)(j,2),m=b[0],h=b[1],O=Object(s.useState)({show:!0,value:r?r.colors.bgDark:"#121212"}),f=Object(i.a)(O,2),p=f[0],g=f[1],v=Object(s.useState)({show:!1,value:r?r.colors.bgSecondary:"#1e1e1e"}),N=Object(i.a)(v,2),w=N[0],y=N[1],k=Object(s.useState)({show:!1,value:r?r.borderRadius:8}),C=Object(i.a)(k,2),S=C[0],D=C[1],E=Object(s.useState)({show:!1,bg:r?r.colors.msgBgOwner:[{id:0,value:"#643e7a"},{id:1,value:"#643e7a"}],text:r?r.colors.messageColorOwner:"#cacaca",border:r?r.colors.msgBorderOwner:"#252525"}),R=Object(i.a)(E,2),I=R[0],U=R[1],P=Object(s.useState)({show:!1,bg:r?r.colors.msgBg:"#1e1e1e",text:r?r.colors.messageColor:"#cacaca",border:r?r.colors.msgBorder:"#252525"}),L=Object(i.a)(P,2),M=L[0],F=L[1],z=Object(s.useState)({show:!1,bg:r?r.colors.inputBg:"#1e1e1e",text:r?r.colors.inputText:"#c4c4c4",border:r?r.colors.inputBorder:"#1e1e1e"}),G=Object(i.a)(z,2),W=G[0],V=G[1],H=Object(s.useState)({show:!1,primary:r?r.colors.textPrimary:"#ffffff",accent:r?r.colors.textAccent:"#643e7a",lowContrast:r?r.colors.textLowContrast:"#646464",btn:r?r.colors.btnText:"#ffffff"}),J=Object(i.a)(H,2),Z=J[0],Y=J[1],Q=Object(s.useState)({show:!1,value:r?r.colors.buttonColor:"#ffffff"}),X=Object(i.a)(Q,2),q=X[0],K=X[1],$=function(){var e=Object(T.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={id:"".concat(m),name:"".concat(m),colors:{bgDark:"".concat(p.value),bgSecondary:"".concat(w.value),inputBg:"".concat(W.bg),inputText:"".concat(W.text),inputBorder:"".concat(W.border),textPrimary:"".concat(Z.primary),textAccent:"".concat(Z.accent),textLowContrast:"".concat(Z.lowContrast),msgBg:"".concat(M.bg),messageColor:"".concat(M.text),msgBgOwner:I.bg,messageColorOwner:"".concat(I.text),msgBorderOwner:"".concat(I.border),msgBorder:"".concat(M.border),buttonColor:"".concat(q.value)},borderRadius:S.value,isCustom:!0},null!==r){e.next=6;break}return e.next=4,d(a.id,{customThemes:[].concat(Object(_.a)(a.customThemes),[t])});case 4:o(!1),n(!1);case 6:if(null===r){e.next=11;break}return e.next=9,d(a.id,{customThemes:ee(r,t),theme:{isCustom:!0,name:m}});case 9:o(!1),n(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(e,t){var n=a.customThemes.indexOf(e),s=Object(_.a)(a.customThemes);return s[n]=t,s};return Object(x.jsxs)("div",{className:"theme-creator",children:[Object(x.jsxs)("form",{className:"theme-creator__form custom-scrollbar",children:[Object(x.jsxs)("div",{className:"field",children:[Object(x.jsx)("p",{children:"Name your theme"}),Object(x.jsx)("input",{type:"text",placeholder:"Aa",required:!0,value:m,onChange:function(e){return h(e.target.value)}})]}),Object(x.jsx)(re,{title:"Background color",setShow:function(){return g(Object(u.a)(Object(u.a)({},p),{},{show:!p.show}))},show:p.show,children:Object(x.jsx)(ie,{value:p.value,setValue:function(e){g(Object(u.a)(Object(u.a)({},p),{},{value:e.target.value}))}})}),Object(x.jsx)(re,{title:"Secondary background color",setShow:function(){return y(Object(u.a)(Object(u.a)({},w),{},{show:!w.show}))},show:w.show,children:Object(x.jsx)(ie,{value:w.value,setValue:function(e){y(Object(u.a)(Object(u.a)({},w),{},{value:e.target.value}))}})}),Object(x.jsxs)(re,{title:"Input colors",setShow:function(){return V(Object(u.a)(Object(u.a)({},W),{},{show:!W.show}))},show:W.show,children:[Object(x.jsx)(ie,{value:W.bg,setValue:function(e){V(Object(u.a)(Object(u.a)({},W),{},{bg:e.target.value}))},separator:"background"}),Object(x.jsx)(ie,{value:W.text,setValue:function(e){V(Object(u.a)(Object(u.a)({},W),{},{text:e.target.value}))},separator:"text"}),Object(x.jsx)(ie,{value:W.border,setValue:function(e){V(Object(u.a)(Object(u.a)({},W),{},{border:e.target.value}))},separator:"border"})]}),Object(x.jsx)(re,{title:"Button color",setShow:function(){return K(Object(u.a)(Object(u.a)({},q),{},{show:!q.show}))},show:q.show,children:Object(x.jsx)(ie,{value:q.value,setValue:function(e){K(Object(u.a)(Object(u.a)({},q),{},{value:e.target.value}))}})}),Object(x.jsxs)(re,{title:"Text colors",setShow:function(){return Y(Object(u.a)(Object(u.a)({},Z),{},{show:!Z.show}))},show:Z.show,children:[Object(x.jsx)(ie,{value:Z.primary,setValue:function(e){Y(Object(u.a)(Object(u.a)({},Z),{},{primary:e.target.value}))},separator:"primary"}),Object(x.jsx)(ie,{value:Z.accent,setValue:function(e){Y(Object(u.a)(Object(u.a)({},Z),{},{accent:e.target.value}))},separator:"accent"}),Object(x.jsx)(ie,{value:Z.lowContrast,setValue:function(e){Y(Object(u.a)(Object(u.a)({},Z),{},{lowContrast:e.target.value}))},separator:"low contrast"})]}),Object(x.jsxs)(re,{title:"Other user messages",setShow:function(){return F(Object(u.a)(Object(u.a)({},M),{},{show:!M.show}))},show:M.show,children:[Object(x.jsx)(ie,{value:M.bg,setValue:function(e){F(Object(u.a)(Object(u.a)({},M),{},{bg:e.target.value}))},separator:"background"}),Object(x.jsx)(ie,{value:M.text,setValue:function(e){F(Object(u.a)(Object(u.a)({},M),{},{text:e.target.value}))},separator:"text"}),Object(x.jsx)(ie,{value:M.border,setValue:function(e){F(Object(u.a)(Object(u.a)({},M),{},{border:e.target.value}))},separator:"border"})]}),Object(x.jsxs)(re,{title:"Current user messages",setShow:function(){return U(Object(u.a)(Object(u.a)({},I),{},{show:!I.show}))},show:I.show,children:[Object(x.jsx)("div",{className:"separator",children:Object(x.jsx)("span",{children:"background"})}),Object(x.jsx)("div",{className:"colors-list custom-scrollbar",children:I.bg.map((function(e,t){return Object(x.jsx)(c.a.Fragment,{children:Object(x.jsx)(ie,{value:e.value,setValue:function(e){!function(e,t){var n=Object(_.a)(I.bg);n[e]={value:t.target.value,id:e},U(Object(u.a)(Object(u.a)({},I),{},{bg:n}))}(t,e)},children:Object(x.jsx)("i",{className:"fa-solid fa-xmark remove-color",onClick:function(){return U(Object(u.a)(Object(u.a)({},I),{},{bg:I.bg.filter((function(t){return t!==e}))}))}})})},e.id)}))}),Object(x.jsxs)("div",{className:"add-color",onClick:function(){return U(Object(u.a)(Object(u.a)({},I),{},{bg:[].concat(Object(_.a)(I.bg),[{value:"#643e7a",id:100*Math.random(0,100)}])}))},children:[Object(x.jsx)("i",{className:"fa-solid fa-plus"}),Object(x.jsx)("span",{children:"add another color"})]}),Object(x.jsx)(ie,{value:I.text,setValue:function(e){U(Object(u.a)(Object(u.a)({},I),{},{text:e.target.value}))},separator:"text"}),Object(x.jsx)(ie,{value:I.border,setValue:function(e){U(Object(u.a)(Object(u.a)({},I),{},{border:e.target.value}))},separator:"border"})]}),Object(x.jsx)(re,{title:"Border radius",setShow:function(){return D(Object(u.a)(Object(u.a)({},S),{},{show:!S.show}))},show:S.show,children:Object(x.jsxs)("div",{className:"flex-row",children:[Object(x.jsx)("input",{type:"range",value:S.value,onChange:function(e){return D(Object(u.a)(Object(u.a)({},S),{},{value:e.target.value}))},min:"0",max:"25"}),Object(x.jsxs)("span",{children:[S.value,"px"]})]})})]}),Object(x.jsx)(ae,{otherUserMessage:M,curUserMessage:I,bgDark:p,borderRadius:S,textColors:Z,inputColors:W,confirmCustomTheme:l,setConfirmCustomTheme:o,submitCustomTheme:$,editedTheme:r,setShowThemeCreator:n,setShowThemePicker:t,name:m,buttonColor:q})]})}n(128);var le=function(e){var t=e.themes,n=e.chat,s=e.setShowThemeCreator,c=e.setEditedTheme,a=e.setConfirmThemeDelete,r=e.confirmThemeDelete,i=B("projects").updateDocument,o=function(){var e=Object(T.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(n.id,{theme:{name:t.id,isCustom:!!t.isCustom&&t.isCustom}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),l=function(e){var t=null;return e.colors.msgBgOwner.forEach((function(e){t=null===t?"".concat(e.value):"".concat(t,", ").concat(e.value)})),1===e.colors.msgBgOwner.length?"linear-gradient(".concat(t,", ").concat(t,")"):"linear-gradient(".concat(t,")")},u=function(){var e=Object(T.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.theme&&n.theme.name===t.id&&o({id:"frosty",isCustom:!1}),e.next=4,i(n.id,{customThemes:Object(_.a)(n.customThemes.filter((function(e){return e!==t})))});case 4:a(null),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"theme-picker",children:[Object(x.jsx)("div",{className:"theme-picker__themes",children:t&&n&&t.map((function(e){return Object(x.jsxs)("div",{className:"theme-picker__themes__theme ".concat(n.theme&&e.id===n.theme.name&&!e.isCustom?"current":""),onClick:function(){o(e)},children:[Object(x.jsx)("i",{className:"fa-solid fa-check theme-tick",style:{backgroundImage:l(e)}}),Object(x.jsx)("div",{className:"theme-bg",style:{background:l(e)}})]},e.id)}))}),Object(x.jsx)("div",{className:"separator",children:Object(x.jsx)("span",{children:"create your own theme"})}),Object(x.jsxs)("div",{className:"theme-picker__themes",children:[n.customThemes.length>0&&n.customThemes.map((function(e){return Object(x.jsxs)("div",{className:"theme-picker__themes__theme ".concat(n.theme&&e.id===n.theme.name&&e.isCustom===n.theme.isCustom?"current":""),onClick:function(){o(e)},children:[Object(x.jsx)("i",{className:"fa-solid fa-check theme-tick",style:{backgroundImage:"".concat(l(e))}}),Object(x.jsx)("div",{className:"theme-bg",style:{background:l(e)},children:Object(x.jsxs)("div",{className:"theme-tools",children:[Object(x.jsx)("div",{className:"theme-tools__edit",onClick:function(t){t.stopPropagation(),function(e){s(!0),c(e)}(e)},children:Object(x.jsx)("i",{className:"fa-solid fa-pen"})}),Object(x.jsx)("div",{className:"theme-tools__remove",onClick:function(t){t.stopPropagation(),a(e)},children:Object(x.jsx)("i",{className:"fa-solid fa-trash-can"})})]})})]},e.id)})),n.customThemes.length<3&&Object(x.jsx)("button",{className:"create-theme",onClick:function(){s(!0)},children:Object(x.jsx)("i",{className:"fa-solid fa-plus"})}),Object(x.jsxs)(J,{show:null!==r,setShow:function(){return a(null)},children:[Object(x.jsx)("h3",{children:"Are you sure you want to proceed?"}),Object(x.jsxs)("div",{className:"btn-group",children:[Object(x.jsx)("div",{className:"btn btn--50 btn--secondary",onClick:function(){return a(null)},children:"go back"}),Object(x.jsx)("div",{className:"btn btn--50",onClick:function(){return u(r)},children:"delete theme"})]})]})]})]})};n(129);function ue(e){var t=e.onMessageResponse,n=e.otherUser,c=e.chat,a=e.currentTheme,r=e.otherUserLocal,o=Object(ee.a)(),l=B("projects"),u=l.updateDocument,d=l.response,j=D("themes").documents,b=I("themes","frosty").document,m=D("users").documents,h=Object(s.useState)(!1),O=Object(i.a)(h,2),f=O[0],g=O[1],v=Object(s.useState)(!1),N=Object(i.a)(v,2),w=N[0],y=N[1],k=Object(s.useState)(null),C=Object(i.a)(k,2),S=C[0],E=C[1],R=Object(s.useState)(""),U=Object(i.a)(R,2),P=U[0],L=U[1],M=Object(s.useState)(!1),F=Object(i.a)(M,2),z=F[0],W=F[1],H=Object(s.useState)(!1),Z=Object(i.a)(H,2),Q=Z[0],X=Z[1],K=Object(s.useState)(b),$=Object(i.a)(K,2),te=$[0],ne=$[1],se=Object(s.useState)(!1),ce=Object(i.a)(se,2),ae=ce[0],re=ce[1],ie=Object(s.useState)(null),ue=Object(i.a)(ie,2),de=ue[0],je=ue[1];Object(s.useEffect)((function(){X(!1),y(!1)}),[c.id]);var be=function(){var e=Object(T.a)(A.a.mark((function e(n){var s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={id:o,content:n,createdAt:p.fromDate(new Date),isSpecial:!0},e.next=3,u(c.id,{messages:[].concat(Object(_.a)(c.messages),[s])});case 3:d.error||t(null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(T.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(c.id,{chatEmoji:t.unified});case 2:d.error||be("Set quick emoji to ".concat(t.emoji));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(e){var t=null;return m&&(t=m.filter((function(t){return t.id===e}))[0]),t};return Object(x.jsxs)("aside",{className:"chat-options",children:[n&&Object(x.jsx)(Y,{userId:n.id,linkToProfile:!0}),Object(x.jsx)("h3",{children:r.nickname}),Object(x.jsxs)("div",{className:"option",onClick:function(){W(!0)},children:[Object(x.jsx)("div",{className:"option__icon",style:{background:function(e){var t=null;return e.colors.msgBgOwner.forEach((function(e){t=null===t?"".concat(e.value):"".concat(t,", ").concat(e.value)})),1===e.colors.msgBgOwner.length?t:"linear-gradient(".concat(t,")")}(a)}}),Object(x.jsx)("div",{className:"option__name",children:"Change theme"})]}),Object(x.jsxs)("div",{className:"option",onClick:function(){g(!0)},children:[Object(x.jsx)("div",{className:"option__icon",children:Object(x.jsx)("i",{className:"fa-solid fa-thumbs-up"})}),Object(x.jsx)("div",{className:"option__name",children:"Change emoji icon"})]}),Object(x.jsxs)("div",{className:"option",onClick:function(){y(!0)},children:[Object(x.jsx)("div",{className:"option__icon",children:"Aa"}),Object(x.jsx)("div",{className:"option__name",children:"Edit nicknames"})]}),j&&(z||Q)&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(J,{show:z,setShow:function(){return W(!1)},onClose:function(){return je(null)},disableOCH:Q,children:Object(x.jsx)(le,{themes:j,chat:c,setShowThemeCreator:X,setEditedTheme:ne,setConfirmThemeDelete:je,confirmThemeDelete:de})}),Object(x.jsx)(J,{show:Q,setShow:function(){return X(!1)},onClose:function(){ne(null),re(!1)},disableOCH:ae,children:Object(x.jsx)(oe,{setShowThemePicker:W,setShowThemeCreator:X,chat:c,editedTheme:te,setConfirmCustomTheme:re,confirmCustomTheme:ae})})]}),f&&Object(x.jsx)(V.a,{onOutsideClick:function(){g(!1)},children:Object(x.jsx)(q.d,{className:"emoji-picker",onEmojiClick:function(e){me(e),g(!1)},theme:q.c.DARK,previewConfig:{defaultCaption:"",defaultEmoji:null},emojiStyle:q.b.NATIVE})}),Object(x.jsx)(J,{show:w,setShow:function(){return y(!1)},onClose:function(){L(""),E(null)},children:c.assignedUsers.map((function(e){return Object(x.jsxs)("div",{className:"user",onClick:function(){L(" "),function(e){E(e.id)}(e)},children:[Object(x.jsxs)("div",{className:"author",children:[Object(x.jsx)(G,{src:null!==he(e.id)?he(e.id).photoURL:""}),S!==e.id&&Object(x.jsxs)("div",{className:"flex-column",children:[Object(x.jsx)("p",{className:"user__display-name",children:e.nickname}),Object(x.jsx)("p",{children:"Set nickname"})]}),S===e.id&&Object(x.jsx)("input",{type:"text",placeholder:e.nickname,value:P,onChange:function(e){L(e.target.value)}})]}),S!==e.id&&Object(x.jsx)("i",{className:"fa-solid fa-pen-to-square"}),S===e.id&&Object(x.jsx)("i",{className:"fa-solid fa-check",onClick:function(){var t;t=e,""!==P.trim()&&P.trim().length<80&&c.assignedUsers.forEach((function(e){e.id!==t.id&&(u(c.id,{assignedUsers:[e,{id:t.id,nickname:P.trim()}]}),y(!1)),e.id===t.id&&be("Set nickname of user ".concat(he(e.id).displayName," to ").concat(P.trim()),P.trim())}))}})]},e.id)}))})]})}function de(e){var t=e.setCurrentChat,n=e.inputRef,c=e.currentTheme,a=w().user,r=Object(l.o)().id,o=I("projects",r),d=o.error,j=o.document,b=B("projects").updateDocument,m=Object(s.useState)(!1),h=Object(i.a)(m,2),O=h[0],f=h[1],p=Object(s.useState)(null),g=Object(i.a)(p,2),v=g[0],N=g[1],y=Object(s.useState)(null),k=Object(i.a)(y,2),C=k[0],S=k[1],_=Object(s.useState)(!1),D=Object(i.a)(_,2),E=D[0],R=D[1],U=Object(s.useState)(null),P=Object(i.a)(U,2),L=P[0],M=P[1],F=Object(s.useState)(null),z=Object(i.a)(F,2),W=z[0],V=z[1],H=I("users",L?L.id:null).document,J=I("users",W?W.id:null).document;Object(s.useEffect)((function(){null!==j&&(j.assignedUsers.forEach((function(e){e.id!==a.uid&&M(Object(u.a)({},e))})),j.assignedUsers.forEach((function(e){e.id===a.uid&&(V(Object(u.a)({},e)),f(!0))}))),t(j)}),[r,j]);var Z=function(){var e=Object(T.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(j.messages&&j.messages.length>0)){e.next=3;break}return e.next=3,b(j.id,{isRead:!0,assignedUsers:[L,{id:J.id,nickname:W.nickname,lastRead:j.messages[j.messages.length-1].id}]});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return d?Object(x.jsx)("div",{className:"error",children:d}):j?Object(x.jsx)(x.Fragment,{children:O&&H&&J&&Object(x.jsxs)("div",{className:"chat",children:[Object(x.jsxs)("div",{className:"vertical-container",children:[Object(x.jsxs)("div",{className:"chat__top-bar",children:[Object(x.jsxs)("div",{className:"flex-row",children:[Object(x.jsx)(G,{src:H.photoURL}),Object(x.jsxs)("div",{className:"vertical-container",children:[Object(x.jsx)("h3",{children:L.nickname}),Object(x.jsx)("p",{className:"isActive",children:J.status?J.status:""})]})]}),Object(x.jsx)("div",{className:"top-bar-options",onClick:function(e){R((function(e){return!e})),e.target.classList.toggle("active")},children:Object(x.jsx)("i",{className:"fa-solid fa-ellipsis-vertical"})})]}),Object(x.jsxs)("div",{className:"chat__comments",onClick:function(){Z()},children:[Object(x.jsx)($,{chat:j,onMessageResponse:N,setBottomDiv:S,otherUser:H,currentUser:J}),Object(x.jsx)(se,{chat:j,messageResponse:v,onMessageResponse:N,bottomDiv:C,inputRef:n,handleSeen:Z,otherUser:H,currentUser:J})]})]}),E&&Object(x.jsx)(ue,{onMessageResponse:N,otherUser:H,chat:j,currentTheme:c,otherUserLocal:L})]})}):Object(x.jsx)("div",{className:"loading",children:"Loading..."})}var je=n(31),be=function(){var e=Object(l.m)(),t=w().dispatch,n=Object(s.useState)(!1),c=Object(i.a)(n,2),a=c[0],r=c[1],o=Object(s.useState)(null),u=Object(i.a)(o,2),d=u[0],m=u[1],f=Object(s.useState)(!1),p=Object(i.a)(f,2),x=p[0],g=p[1],v=Object(s.useState)(!1),N=Object(i.a)(v,2),y=N[0],k=N[1],C=function(){var e=Object(T.a)(A.a.mark((function e(n,s){var c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(null),g(!0),e.prev=2,e.next=5,b.signInWithEmailAndPassword(n,s);case 5:return c=e.sent,e.next=8,j.collection("users").doc(c.user.uid).update({online:!0});case 8:t({type:"LOGIN",payload:c.user}),a||(g(!1),m(null)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),a||(m(e.t0.message),g(!1));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(T.a)(A.a.mark((function e(){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(null),g(!0),e.prev=2,e.next=5,b.signInWithPopup(h);case 5:return n=e.sent,e.next=8,j.collection("users").doc(n.user.uid).update({online:!0});case 8:t({type:"LOGIN",payload:n.user}),a||(g(!1),m(null)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),a||(m(e.t0.message),g(!1));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(T.a)(A.a.mark((function e(){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(null),g(!0),e.prev=2,e.next=5,b.signInWithPopup(O);case 5:return n=e.sent,e.next=8,j.collection("users").doc(n.user.uid).update({online:!0});case 8:t({type:"LOGIN",payload:n.user}),a||(g(!1),m(null)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),a||(m(e.t0.message),g(!1));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var t=Object(T.a)(A.a.mark((function t(n){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(null),g(!0),k(!1),t.prev=3,t.next=6,b.sendPasswordResetEmail(n);case 6:a||(g(!1),m(null),k(!0),setTimeout((function(){e("/login")}),15e3)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),a||(m(t.t0.message),g(!1),k(!1));case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}(),E=function(){var e=Object(T.a)(A.a.mark((function e(t,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(null),g(!0),k(!1),e.prev=3,e.next=6,b.confirmPasswordReset(t,n);case 6:a||(g(!1),m(null),k(!0)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a||(m(e.t0.message),g(!1),k(!1));case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(T.a)(A.a.mark((function e(t){var n,s,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new je.a(b),(s=new je.b("recaptcha-container",{},b)).render(),e.next=5,n.verifyPhoneNumber(t,s);case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){return function(){return r(!0)}}),[]),{login:C,loginWithGoogle:S,loginWithGithub:_,sendPasswordReset:D,resetPassword:E,setUpRecaptcha:R,isPending:x,error:d,isFinished:y}},me=(n(59),n.p+"static/media/btn_google_dark_normal_ios.9fe90a17.svg"),he="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RERCMUIwOUY4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RERCMUIwOUU4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJBOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJCOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+jUqS1wAAApVJREFUeNq0l89rE1EQx3e3gVJoSPzZeNEWPKgHoa0HBak0iHiy/4C3WvDmoZ56qJ7txVsPQu8qlqqHIhRKJZceesmhioQEfxTEtsoSpdJg1u/ABJ7Pmc1m8zLwgWTmzcw3L+/te+tHUeQltONgCkyCi2AEDHLsJ6iBMlgHL8FeoqokoA2j4CloRMmtwTmj7erHBXPgCWhG6a3JNXKdCiDl1cidVbXZkJoXQRi5t5BrxwoY71FzU8S4JuAIqFkJ2+BFSlEh525b/hr3+k/AklDkNsf6wTT4yv46KIMNpsy+iMdMc47HNWxbsgVcUn7FmLAzzoFAWDsBx+wVP6bUpp5ewI+DOeUx0Wd9D8F70BTGNjkWtqnhmT1JQAHcUgZd8Lo3rQb1LAT8eJVUfgGvHQigGp+V2Z0iAUUl8QH47kAA1XioxIo+bRN8OG8F/oBjwv+Z1nJgX5jpdzQDw0LCjsPmrcW7I/iHScCAEDj03FtD8A0EyuChHgg4KTlJQF3wZ7WELppnBX+dBFSVpJsOBWi1qiRgSwnOgoyD5hmuJdkWCVhTgnTvW3AgYIFrSbZGh0UW/Io5Vp+DQoK7o80pztWMemZbgxeNwCNwDbw1fIfgGZjhU6xPaJgBV8BdsMw5cbZoHsenwYFxkZzl83xTSKTiviCAfCsJLysH3POfC8m8NegyGAGfLP/VmGmfSChgXroR0RSWjEFv2J/nG84cuKFMf4sTCZqXuJd4KaXFVjEG3+tw4eXbNK/YC9oXXs3O8NY8y99L4BXY5cvLY/Bb2VZ58EOJVcB18DHJq9lRsKr8inyKGVjlmh29mtHs3AHfuhCwy1vXT/Nu2GKQt+UHsGdctyX6eQyNvc+5sfX9Dl7Pe2J/BRgAl2CpwmrsHR0AAAAASUVORK5CYII=";function Oe(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),r=Object(i.a)(a,2),l=r[0],u=r[1],d=be(),j=d.login,b=d.loginWithGoogle,m=d.loginWithGithub,h=d.isPending,O=d.error;return Object(x.jsxs)("div",{className:"login",children:[Object(x.jsxs)("div",{className:"auth-decoration",children:[Object(x.jsx)("div",{className:"circle"}),Object(x.jsx)("div",{className:"blur"})]}),Object(x.jsxs)("form",{className:"auth-form",onSubmit:function(e){e.preventDefault(),j(n,l)},children:[Object(x.jsx)("div",{className:"auth-form__title",children:Object(x.jsx)("h2",{children:"Welcome back"})}),Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"Email"}),Object(x.jsx)("input",{type:"email",required:!0,onChange:function(e){return c(e.target.value)},value:n,placeholder:"Enter your email"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"Password"}),Object(x.jsx)("input",{type:"password",required:!0,onChange:function(e){return u(e.target.value)},value:l,placeholder:"Enter your password"})]}),Object(x.jsx)(o.b,{to:"/recover-password",className:"reset-password",children:"Forgot password?"}),!h&&Object(x.jsx)("button",{className:"btn",children:"Login"}),h&&Object(x.jsx)("button",{className:"btn",disabled:!0,children:"Loading"}),Object(x.jsx)("div",{className:"others-separator",children:Object(x.jsx)("span",{children:"or"})}),Object(x.jsxs)("button",{className:"google-btn",onClick:function(e){e.preventDefault(),b()},children:[Object(x.jsx)("img",{src:me,alt:"google logo"}),Object(x.jsx)("span",{children:"Sign in with google"})]}),Object(x.jsxs)("button",{className:"github-btn",onClick:function(e){e.preventDefault(),m()},children:[Object(x.jsx)("img",{src:he,alt:"github logo"}),Object(x.jsx)("span",{children:"Sign in with GitHub"})]}),Object(x.jsxs)("p",{className:"change-page",children:["Don't have an account? ",Object(x.jsx)(o.b,{to:"/signup",children:"Sign up"})]}),O&&Object(x.jsx)("div",{className:"error",children:O})]})]})}var fe=n(55),pe=n.n(fe);n(131);function xe(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),r=Object(i.a)(a,2),l=r[0],u=r[1],d=Object(s.useState)(""),f=Object(i.a)(d,2),p=f[0],g=f[1],v=Object(s.useState)(null),N=Object(i.a)(v,2),y=N[0],k=N[1],C=Object(s.useState)(null),S=Object(i.a)(C,2),_=S[0],D=S[1],E=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(null),r=Object(i.a)(a,2),o=r[0],l=r[1],u=Object(s.useState)(!1),d=Object(i.a)(u,2),f=d[0],p=d[1],x=w().dispatch,g=pe()(),v=function(){var e=Object(T.a)(A.a.mark((function e(t,s,c,a){var r,i,o,u;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(null),p(!0),e.prev=2,e.next=5,b.createUserWithEmailAndPassword(t,s);case 5:if(r=e.sent){e.next=8;break}throw new Error("Could not complete signup");case 8:return i="thumbnails/".concat(r.user.uid,"/").concat(a.name),e.next=11,m.ref(i).put(a);case 11:return o=e.sent,e.next=14,o.ref.getDownloadURL();case 14:return u=e.sent,e.next=17,r.user.updateProfile({displayName:c,photoURL:u});case 17:return e.next=19,j.collection("users").doc(r.user.uid).set({online:!0,displayName:c,photoURL:u,createdAt:"".concat(new Date(r.user.metadata.creationTime).toLocaleString("default",{day:"2-digit",month:"short",year:"numeric"})),status:"invisible",banner:"".concat(g)});case 19:x({type:"LOGIN",payload:r.user}),n||(p(!1),l(null)),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(2),n||(l(e.t0.message),p(!1));case 26:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(t,n,s,c){return e.apply(this,arguments)}}(),N=function(){var e=Object(T.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(null),p(!0),e.prev=2,e.next=5,b.signInWithPopup(h);case 5:if(t=e.sent){e.next=8;break}throw new Error("Could not complete signup");case 8:return e.next=10,t.user.updateProfile({displayName:t.user.displayName,photoURL:t.user.photoURL});case 10:return e.next=12,j.collection("users").doc(t.user.uid).set({online:!0,displayName:t.user.displayName,photoURL:t.user.photoURL});case 12:x({type:"LOGIN",payload:t.user}),n||(p(!1),l(null)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),n||(l(e.t0.message),p(!1));case 19:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(T.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(null),p(!0),e.prev=2,e.next=5,b.signInWithPopup(O);case 5:if(t=e.sent){e.next=8;break}throw new Error("Could not complete signup");case 8:return e.next=10,t.user.updateProfile({displayName:t.additionalUserInfo.username,photoURL:t.user.photoURL});case 10:return e.next=12,j.collection("users").doc(t.user.uid).set({online:!0,displayName:t.user.displayName,photoURL:t.user.photoURL});case 12:x({type:"LOGIN",payload:t.user}),n||(p(!1),l(null)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),n||(l(e.t0.message),p(!1));case 19:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){return function(){return c(!0)}}),[]),{signup:v,signInWithGoogle:N,signInWithGithub:y,error:o,isPending:f}}(),R=E.signup,I=E.signInWithGoogle,U=E.signInWithGithub,P=E.isPending,B=E.error;return Object(x.jsxs)("div",{className:"signup",children:[Object(x.jsxs)("div",{className:"auth-decoration",children:[Object(x.jsx)("div",{className:"circle"}),Object(x.jsx)("div",{className:"blur"})]}),Object(x.jsxs)("form",{className:"auth-form",onSubmit:function(e){e.preventDefault(),R(n,l,p,y)},children:[Object(x.jsx)("div",{className:"auth-form__title",children:Object(x.jsx)("h2",{children:"Join us"})}),Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"Email:"}),Object(x.jsx)("input",{type:"email",required:!0,onChange:function(e){return c(e.target.value)},value:n,placeholder:"Aa"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"Password:"}),Object(x.jsx)("input",{type:"password",required:!0,onChange:function(e){return u(e.target.value)},value:l,placeholder:"Aa"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"Display name:"}),Object(x.jsx)("input",{type:"text",required:!0,onChange:function(e){return g(e.target.value)},value:p,placeholder:"Aa"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"Profile thumbnail:"}),Object(x.jsx)("input",{type:"file",required:!0,onChange:function(e){k(null);var t=e.target.files[0];t?t.type.includes("image")?!t.size>1e5?D("Image file size must be less than 100kb"):(D(null),k(t)):D("Selected file must be an image"):D("Please select a file")}}),_&&Object(x.jsx)("div",{className:"error",children:_})]}),!P&&Object(x.jsx)("button",{className:"btn",children:"Sign up"}),P&&Object(x.jsx)("button",{className:"btn",disabled:!0,children:"Loading"}),Object(x.jsx)("div",{className:"others-separator",children:Object(x.jsx)("span",{children:"or"})}),Object(x.jsxs)("button",{className:"google-btn",onClick:function(e){e.preventDefault(),I()},children:[Object(x.jsx)("img",{src:me,alt:"google logo"}),Object(x.jsx)("span",{children:"Sign in with google"})]}),Object(x.jsxs)("button",{className:"github-btn",onClick:function(e){e.preventDefault(),U()},children:[Object(x.jsx)("img",{src:he,alt:"github logo"}),Object(x.jsx)("span",{children:"Sign in with GitHub"})]}),Object(x.jsxs)("p",{className:"change-page",children:["Already have an account? ",Object(x.jsx)(o.b,{to:"/login",children:"Login"})]}),B&&Object(x.jsx)("div",{className:"error",children:B})]})]})}function ge(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{class:"privacy-section",children:[Object(x.jsx)("h3",{children:"Zbieranie danych"}),Object(x.jsx)("p",{children:"Kiedy zbieramy Twoje dane? Tw\xf3j email oraz has\u0142o zapisywane s\u0105 podczas rejestracji na naszej stronie."})]}),Object(x.jsxs)("div",{class:"privacy-section",children:[Object(x.jsx)("h3",{children:"Cele przetwarzania danych"}),Object(x.jsx)("p",{children:"Twoje dane zebrane podczas rejestracji przetwarzane s\u0105 jedynie w celu umo\u017cliwienia korzystania ze strony. Nie udost\u0119pniamy ich nikomu, nie sprzedajemy ich. Rejestracja jest dobrowolna."})]}),Object(x.jsxs)("div",{class:"privacy-section",children:[Object(x.jsx)("h3",{children:"Bezpiecze\u0144stwo danych"}),Object(x.jsx)("p",{children:"Twoje dane s\u0105 automatycznie szyfrowane przez us\u0142ug\u0119 firebase od google. Nikt nieautoryzowany nie ma dost\u0119pu do twoich danych."})]}),Object(x.jsxs)("div",{class:"privacy-section",children:[Object(x.jsx)("h3",{children:"Usuwanie danych"}),Object(x.jsx)("p",{children:'Je\u015bli zrezygnujesz z u\u017cywania naszej aplikacji w ka\u017cdym momencie mo\u017cesz do nas napisa\u0107 na maila "matkowsky808@gmail" lub wykorzysta\u0107 funkcj\u0119 w ustawieniach, aby usun\u0105\u0107 konto oraz swoje dane.'})]}),Object(x.jsxs)("div",{class:"privacy-section",children:[Object(x.jsx)("h3",{children:"Pozosta\u0142e informacje"}),Object(x.jsx)("p",{children:Object(x.jsx)("span",{children:"W razie jakichkolwiek pyta\u0144, prosimy o kontakt na adresie mailowym: matkowsky808@gmail.com"})})]})]})}var ve=n.p+"static/media/shrek-gif.df094210.gif";function Ne(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],a=be(),r=a.sendPasswordReset,l=a.isPending,u=a.error,d=a.isFinished,j=Object(s.useState)(15),b=Object(i.a)(j,2),m=b[0],h=b[1],O=function(e){e.preventDefault(),r(n)};Object(s.useEffect)((function(){!0===d&&f()}),[d]);var f=function(){var e=setInterval((function(){m<=0?clearInterval(e):h((function(e){return e-1}))}),1e3)};return Object(x.jsxs)("div",{className:"login",children:[Object(x.jsxs)("div",{className:"auth-decoration",children:[Object(x.jsx)("div",{className:"circle"}),Object(x.jsx)("div",{className:"blur"})]}),Object(x.jsxs)("div",{className:"auth-form",children:[d&&Object(x.jsxs)("div",{className:"text-center email-sent",children:[Object(x.jsx)("img",{src:ve,alt:"",className:"email-sent__img"}),Object(x.jsx)("h2",{children:"Check your email"}),Object(x.jsx)("p",{children:"A password reset email has been sent to your email address"}),Object(x.jsx)(o.b,{to:"/login",children:Object(x.jsx)("button",{className:"btn",children:"Back to Login"})}),Object(x.jsxs)("p",{className:"redirect",children:["Redirecting in ",m," s"]})]}),!d&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"auth-form__title",children:[Object(x.jsx)("h2",{children:"Forgot password?"}),Object(x.jsx)("p",{children:"Enter your email below to recieve password reset instructions"})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"Email"}),Object(x.jsx)("input",{type:"email",required:!0,onChange:function(e){return c(e.target.value)},value:n,placeholder:"Enter your email",onKeyDown:function(e){return function(e){"Enter"===e.code&&O(e)}(e)}})]}),!l&&Object(x.jsx)("button",{className:"btn",onClick:O,children:"Send reset link"}),l&&Object(x.jsx)("button",{className:"btn",disabled:!0,children:"Sending email..."}),Object(x.jsxs)("p",{className:"change-page",children:["No longer have Alzheimer? ",Object(x.jsx)(o.b,{to:"/login",children:"Login"})]}),u&&Object(x.jsx)("div",{className:"error",children:u})]})]})]})}function we(){var e=be(),t=e.resetPassword,n=e.isPending,c=e.error,a=e.isFinished,r=Object(s.useState)(""),u=Object(i.a)(r,2),d=u[0],j=u[1],b=function(e){var t=Object(l.k)();return new URLSearchParams(t.search).get(e)}("oobCode"),m=function(){var e=Object(T.a)(A.a.mark((function e(n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),t(b,d);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"login",children:[Object(x.jsxs)("div",{className:"auth-decoration",children:[Object(x.jsx)("div",{className:"circle"}),Object(x.jsx)("div",{className:"blur"})]}),Object(x.jsxs)("form",{className:"auth-form",onSubmit:function(e){return m(e)},children:[a&&Object(x.jsxs)("div",{className:"text-center email-sent",children:[Object(x.jsx)("img",{src:ve,alt:"",className:"email-sent__img"}),Object(x.jsx)("h2",{children:"Password set successfully"}),Object(x.jsx)("p",{children:"You can now log in with your new password"}),Object(x.jsx)(o.b,{to:"/login",children:Object(x.jsx)("button",{className:"btn",children:"Back to Login"})}),Object(x.jsxs)("p",{className:"change-page",children:["Now log in and remember your password. ",Object(x.jsx)(o.b,{to:"/login",children:" Login"})]})]}),!a&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"auth-form__title",children:[Object(x.jsx)("h2",{children:"Set a new password"}),Object(x.jsx)("p",{children:"Enter a password that you will remember this time..."})]}),Object(x.jsxs)("label",{children:[Object(x.jsx)("span",{children:"Password"}),Object(x.jsx)("input",{type:"password",required:!0,onChange:function(e){return j(e.target.value)},value:d,placeholder:"Enter new password",onKeyDown:function(e){return function(e){"Enter"===e.code&&m(e)}(e)}})]}),!n&&Object(x.jsx)("button",{className:"btn",children:"Reset password"}),n&&Object(x.jsx)("button",{className:"btn",disabled:!0,children:"Setting new password..."}),Object(x.jsxs)("p",{className:"change-page",children:[Object(x.jsx)(o.b,{to:"/login",children:" Login"})," instead?"]}),c&&Object(x.jsx)("div",{className:"error",children:c})]})]})]})}var ye=n(81);n(132);function ke(e){var t=e.chats,n=e.inputRef,s=w().user,a=(D("users").documents,{about:"",minute:"min",minutes:"min","less than a minute":"1 min"}),r=function(e){var t=!1;return e.messages&&e.messages[e.messages.length-1]&&e.assignedUsers.forEach((function(n){n.id===s.uid&&n.lastRead!==e.messages[e.messages.length-1].id&&(t=!0)})),t};return Object(x.jsxs)("div",{className:"chat-list custom-scrollbar",children:[0===t.length&&Object(x.jsx)("p",{children:"No chats yet!"}),t.map((function(e){return Object(x.jsx)(o.c,{to:"/u/".concat(e.id),className:"card ".concat(r(e)?"unread":""),onClick:function(){null!==n.current&&n.current.focus()},children:e.assignedUsers.map((function(t){return t.id!==s.uid&&Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsx)(Y,{userId:t.id}),Object(x.jsxs)("div",{className:"chat-info",children:[Object(x.jsxs)("p",{className:"display-name",children:[t.nickname.substring(0,18),Object(x.jsx)("span",{children:t.nickname.length>=18&&"..."})]}),Object(x.jsxs)("div",{className:"last-chat",children:[Object(x.jsxs)("span",{className:"last-message",children:[0!==e.messages.length&&Object(x.jsxs)(x.Fragment,{children:[e&&e.messages[e.messages.length-1]&&e.messages[e.messages.length-1].createdBy===s.uid&&"You: ",e.messages[e.messages.length-1].content&&void 0===e.messages[e.messages.length-1].fileType&&e.messages[e.messages.length-1].content.substring(0,15),!e.messages[e.messages.length-1].content&&"image"===e.messages[e.messages.length-1].fileType&&"sent a photo",!e.messages[e.messages.length-1].content&&"video"===e.messages[e.messages.length-1].fileType&&"sent a video",e.messages[e.messages.length-1].content&&e.messages[e.messages.length-1].content.length>=15&&"..."]}),0===e.messages.length&&"No messages yet"]}),0!==e.messages.length&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"dot"}),Object(x.jsx)("span",{className:"comment-date",children:Object(ye.a)(e.messages[e.messages.length-1].createdAt.toDate(),{addSuffix:!1}).replace(/\b(?:about|less than a minute|minute|minutes)\b/gi,(function(e){return a[e]}))})]})]})]})]},t.id)}))},e.id)}))]})}n(133);function Ce(e){var t=e.currentChat,n=e.inputRef,c=w().user,a=D("users").documents,r=D("projects",["assignedUsersId","array-contains",c.uid],["updatedAt","desc"]).documents,l=Object(s.useState)(""),u=Object(i.a)(l,2),d=u[0],j=u[1],b=(Object(s.useRef)([]),function(e){var t=null;return a&&(t=a.filter((function(t){return t.id===e}))[0]),t});return Object(x.jsx)("div",{className:"user-list",children:Object(x.jsxs)("div",{className:"search",children:[Object(x.jsx)("h2",{children:"Chats"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"search-form",children:Object(x.jsxs)("label",{children:[Object(x.jsx)("i",{className:"fa-solid fa-magnifying-glass"}),Object(x.jsx)("input",{type:"text",placeholder:"Find a user",onChange:function(e){return j(e.target.value)},value:d})]})}),""!==d&&Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"add-users",children:r&&r.filter((function(e){return function(e){var t=!1;return e.assignedUsers.forEach((function(e){e.id!==c.uid&&(console.log(e),(b(e.id).displayName.toLowerCase().trim().replace(/\s+/g,"").includes(d.toLowerCase())||e.nickname&&e.nickname.toLowerCase().trim().replace(/\s+/g,"").includes(d.toLowerCase()))&&(t=!0))})),t}(e)})).map((function(e){return e.assignedUsers.map((function(t){return t.id!==c.uid&&Object(x.jsxs)(o.b,{to:"/u/".concat(e.id),className:"user-chat",onClick:function(){return j("")},children:[Object(x.jsx)(G,{src:b(t.id).photoURL}),Object(x.jsx)("div",{className:"user-chat-info",children:Object(x.jsx)("span",{children:b(t.id).displayName})})]},t.id)}))}))})}),Object(x.jsx)("div",{className:"chats",children:""===d&&r&&Object(x.jsx)(ke,{chats:r,currentChat:t,inputRef:n})})]})]})})}var Se=n(36),_e=(n(134),function(){var e=Object(l.k)(),t=w().user,n=D("projects",["assignedUsersId","array-contains",t.uid],["updatedAt","desc"]).documents,a=D("users").documents,r=B("users").updateDocument,d=I("users",t.uid).document,j=Object(s.useState)(),b=Object(i.a)(j,2),m=b[0],h=b[1],O=Object(s.useState)(""),f=Object(i.a)(O,2),p=f[0],g=f[1],v=Object(s.useState)([]),N=Object(i.a)(v,2),y=N[0],k=N[1],C=Object(s.useState)(!1),S=Object(i.a)(C,2),_=S[0],E=S[1],R=Object(s.useState)(""),U=Object(i.a)(R,2),P=U[0],L=U[1],M=Object(s.useState)(y),F=Object(i.a)(M,2),z=F[0],W=F[1],V=Object(s.useState)(!1),H=Object(i.a)(V,2),Z=H[0],Q=H[1],q=Object(s.useState)(0),K=Object(i.a)(q,2),$=K[0],ee=K[1];Object(s.useEffect)((function(){n&&null!==n&&0!==n.length?(d&&d.pinned?k(d.pinned):k([null,null,null,null]),h(n[0])):h("")}),[n,d]),Object(s.useEffect)((function(){g(e.pathname)}),[e]),Object(s.useEffect)((function(){d&&null!==d.pinned&&k(d.pinned)}),[d]);var te=function(){var e=Object(T.a)(A.a.mark((function e(n){var s,c,a,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.destination){e.next=2;break}return e.abrupt("return");case 2:return s=Array.from(y),c=s.splice(n.source.index,1),a=Object(i.a)(c,1),o=a[0],s.splice(n.destination.index,0,o),k(s),e.next=8,r(t.uid,{pinned:s});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(e){var t=!1;return z&&z.forEach((function(n){null!==n&&n.id===e.id&&(t=!0)})),t},se=function(e){var t=null;return a&&(t=a.filter((function(t){return t.id===e}))),t[0]};return Object(s.useEffect)((function(){d&&d.friends&&ee(d.friends.filter((function(e){return!!e.isPending})).length)}),[d]),d&&Object(x.jsxs)("div",{className:"tool-bar",children:[Object(x.jsxs)("nav",{className:"tool-bar__pages",children:[Object(x.jsx)(o.c,{to:"/u/".concat(m&&m.id),className:p.includes("/u/")?"active":"",children:Object(x.jsx)("i",{className:"fa-solid fa-comment"})}),Object(x.jsx)(o.c,{to:"/",children:Object(x.jsx)("i",{className:"fa-solid fa-house"})}),Object(x.jsxs)(o.c,{to:"/friends",className:"friends",children:[Object(x.jsx)("i",{className:"fa-solid fa-address-book"}),$>0&&Object(x.jsx)("div",{className:"pending-indicator",children:Object(x.jsx)("p",{children:$})})]}),Object(x.jsx)(o.c,{to:"/settings/account-details",className:"".concat(["/settings/account-details","/settings/profile","/settings/theme","/settings","/settings/","/settings/become-cool","/settings/privacy-and-security"].includes(e.pathname)?"active":""),children:Object(x.jsx)("i",{className:"fa-solid fa-gear"})})]}),Object(x.jsx)("div",{className:"separator-no-text"}),Object(x.jsx)(Se.a,{onDragEnd:te,children:Object(x.jsx)(Se.c,{droppableId:"favourites",children:function(e){return Object(x.jsxs)("div",Object(u.a)(Object(u.a)({className:"tool-bar__favourites"},e.droppableProps),{},{ref:e.innerRef,children:[y&&y.map((function(e,t){return null!==e&&Object(x.jsx)(Se.b,{draggableId:e.id,index:t,children:function(t){return Object(x.jsx)(o.b,Object(u.a)(Object(u.a)(Object(u.a)({to:"/u/".concat(e.id),draggable:"true"},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,children:Object(x.jsx)(G,{src:se(e.uid)?se(e.uid).photoURL:""})}))}},e.id)})),e.placeholder,Object(x.jsx)("div",{className:"add-favourite",onClick:function(){E(!0),W(y)},children:Object(x.jsx)("i",{className:"fa-regular fa-star"})})]}))}})}),Object(x.jsx)("div",{className:"separator-no-text"}),Object(x.jsx)(J,{show:_,setShow:function(){return E(!1)},children:Object(x.jsxs)("div",{className:"manage-favs",children:[Object(x.jsxs)(Se.a,{onDragEnd:function(e){if(e.destination){if(e.source.droppableId===e.destination.droppableId&&"manage-favs"===e.source.droppableId){var s=Array.from(z),c=s.splice(e.source.index,1),a=Object(i.a)(c,1)[0];s.splice(e.destination.index,0,a),W(s)}if("empty-slots"===e.destination.droppableId){var r,o,l=Array.from(z),u=Array.from(n.filter((function(e){return!ne(e)})))[e.source.index];u.isGroup||u.assignedUsers.forEach((function(e){e.id!==t.uid&&(r={id:u.id,uid:e.id})})),l.forEach((function(e){null===e&&(o=z.indexOf(e))})),l.splice(o,1,r),W(l)}}},children:[Object(x.jsx)(Se.c,{droppableId:"manage-favs",direction:"horizontal",type:"manage-favs",children:function(e){return Object(x.jsxs)("div",Object(u.a)(Object(u.a)({className:"manage-favs__current-favs"},e.droppableProps),{},{ref:e.innerRef,children:[z&&z.map((function(e,t){return null!==e&&Object(x.jsx)(Se.b,{draggableId:e.id,index:t,type:"FAVS-LIST",children:function(t){return Object(x.jsxs)("div",Object(u.a)(Object(u.a)(Object(u.a)({className:"fav"},t.draggableProps),t.dragHandleProps),{},{draggable:"true",ref:t.innerRef,children:[Object(x.jsx)(G,{src:se(e.uid)?se(e.uid).photoURL:""}),Object(x.jsx)("div",{className:"fav__remove",onClick:function(){!function(e){var t=Array.from(z);t.splice(z.indexOf(e),1),t.push(null),W(t)}(e)},children:Object(x.jsx)("i",{className:"fa-solid fa-xmark"})})]}))}},e.id)})),e.placeholder,z&&z.includes(null)&&Object(x.jsx)(Se.c,{droppableId:"empty-slots",direction:"horizontal",children:function(e){return Object(x.jsx)("div",Object(u.a)(Object(u.a)({className:"flex-row"},e.droppableProps),{},{ref:e.innerRef,children:z.map((function(t,n){return null===t&&Object(x.jsx)(c.a.Fragment,{children:Object(x.jsxs)("div",{className:"fav fav--empty",children:[Object(x.jsx)("i",{className:"fa-regular fa-star"}),e.placeholder]})},n)}))}))}})]}))}}),Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{type:"text",placeholder:"Find a user",value:P,onChange:function(e){return L(e.target.value)},className:"mb1"}),Object(x.jsx)(Se.c,{droppableId:"chats-list",isDropDisabled:!0,children:function(e){return Object(x.jsxs)("ul",Object(u.a)(Object(u.a)({className:"manage-favs__chats-list custom-scrollbar"},e.droppableProps),{},{ref:e.innerRef,children:[n&&n.filter((function(e){return!ne(e)})).map((function(e,n){return Object(x.jsx)(c.a.Fragment,{children:!e.isGroup&&e.assignedUsers.map((function(s){return s.id!==t.uid&&null!==se(s.id)&&se(s.id).displayName.toLowerCase().trim().replace(/\s+/g,"").includes(P.toLowerCase())&&Object(x.jsx)(Se.b,{draggableId:s.id,index:n,children:function(n,c){return Object(x.jsxs)("li",Object(u.a)(Object(u.a)({className:"".concat(c.isDragging?"dragged":""," ").concat("empty-slots"===c.draggingOver?"hover-over-slot":""),onClick:function(){return function(e){var n,s,c=Array.from(z);e.isGroup||e.assignedUsers.forEach((function(n){n.id!==t.uid&&(s={id:e.id,uid:n.id})})),c.forEach((function(e){null===e&&(n=z.indexOf(e))})),c.splice(n,1,s),W(c)}(e)},style:{width:"10px !important"}},n.draggableProps),{},{ref:n.innerRef,children:[Object(x.jsxs)("div",{className:"flex-row",children:[!c.isDragging&&Object(x.jsx)(G,{src:se(s.id)?se(s.id).photoURL:""}),!c.isDragging&&Object(x.jsx)("p",{children:se(s.id)?se(s.id).displayName:""})]}),Object(x.jsxs)("div",Object(u.a)(Object(u.a)({className:"handle"},n.dragHandleProps),{},{children:[!c.isDragging&&Object(x.jsx)("i",{className:"fa-solid fa-grip-vertical"}),c.isDragging&&Object(x.jsx)(G,{src:se(s.id)?se(s.id).photoURL:""})]}))]}),e.id)}},s.id)}))},e.id)})),e.placeholder]}))}})]})]}),Object(x.jsxs)("div",{className:"btn-group",children:[Object(x.jsx)("div",{className:"btn btn--secondary",onClick:function(){return E(!1)},children:"cancel"}),Object(x.jsx)("div",{className:"btn",onClick:function(){r(t.uid,{pinned:z}),E(!1)},children:"finish"})]})]})}),Object(x.jsxs)("div",{className:"tool-bar__profile-menu",children:[Object(x.jsx)("div",{onClick:function(){Q(!0)},children:Object(x.jsx)(Y,{userId:d.id,linkToProfile:!1,noTooltip:!0})}),Object(x.jsx)(X,{show:Z,setShow:function(){return Q(!1)},userId:d.id})]})]})}),De=n(77),Ee=(n(136),n.p+"static/media/premium-account.5a5ada39.png");function Re(){var e=pe()(),t=Object(ee.a)(),n=Object(l.o)().id,c=w().user,a=I("users",n),r=a.error,u=a.document,d=I("users",c.uid).document,j=D("projects").documents,b=D("users").documents,m=B("users").updateDocument,h=L().formatDate,O=Object(s.useState)(null),f=Object(i.a)(O,2),g=f[0],v=f[1],N=Object(s.useState)(""),y=Object(i.a)(N,2),k=y[0],C=y[1],S=Object(s.useState)(!1),E=Object(i.a)(S,2),R=E[0],U=E[1],P=Object(s.useState)(!1),M=Object(i.a)(P,2),F=M[0],W=M[1],H=function(e){var t=null;return b&&(t=b.filter((function(t){return t.id===e}))[0]),t},Q=function(){var e=Object(T.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==k.trim()){e.next=2;break}return e.abrupt("return");case 2:if(!u.profileComments){e.next=7;break}return e.next=5,m(n,{profileComments:[{id:t,content:k,createdBy:c.uid,createdAt:p.fromDate(new Date)}].concat(Object(_.a)(u.profileComments))});case 5:e.next=9;break;case 7:return e.next=9,m(n,{profileComments:[{id:t,content:k,createdBy:c.uid,createdAt:p.fromDate(new Date)}]});case 9:C("");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(T.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n,{profileComments:Object(_.a)(u.profileComments.filter((function(e){return t!==e})))});case 2:v(null);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return null!==r?Object(x.jsx)("div",{className:"error",children:r}):u?Object(x.jsx)("div",{className:"profile",children:Object(x.jsxs)("div",{className:"wrapper flex-column",children:[Object(x.jsx)("div",{className:"banner",style:u.banner?{background:u.banner}:{background:e}}),Object(x.jsxs)("div",{className:"profile__header",children:[Object(x.jsxs)("div",{className:"flex-row",children:[Object(x.jsx)(Y,{userId:u.id}),Object(x.jsxs)("div",{className:"flex-column",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{className:"name",children:u.displayName}),u.bio&&Object(x.jsx)("p",{className:"bio",children:u.bio})]}),Object(x.jsxs)("div",{className:"badges",children:[u.createdAt&&Object(x.jsx)("div",{className:"badges__badge",children:Object(x.jsxs)("p",{children:[Object(x.jsx)("span",{children:"Joined"})," - ",u.createdAt]})}),u.pronouns&&Object(x.jsx)("div",{className:"badges__badge",children:Object(x.jsxs)("p",{children:[Object(x.jsx)("span",{children:"Pronouns"})," - ",u.pronouns]})}),u.country&&Object(x.jsx)("div",{className:"badges__badge",children:Object(x.jsxs)("p",{className:"country",children:[Object(x.jsx)(De.a,{countryCode:"".concat(u.country.code),svg:!0}),u.country.name]})})]})]})]}),Object(x.jsxs)("div",{className:"flex-column",children:[u.premium&&Object(x.jsxs)("div",{className:"account-status account-status--premium",children:[Object(x.jsx)("img",{src:Ee,alt:"Icon for premium account"}),Object(x.jsx)("span",{children:"Plenvy Pro"})]}),!u.premium&&Object(x.jsxs)("div",{className:"account-status account-status--classic",children:[Object(x.jsx)("img",{src:z,alt:"Icon for classic account"}),Object(x.jsx)("span",{children:"Plenvy Classic"})]}),Object(x.jsxs)("div",{className:"btn-group",children:[n===c.uid&&Object(x.jsx)(o.b,{to:"/settings/profile",children:Object(x.jsx)("button",{className:"action-btn btn",children:"edit profile"})}),n!==c.uid&&Object(x.jsxs)(x.Fragment,{children:[d&&d.friends&&Object(x.jsxs)(x.Fragment,{children:[d.friends.some((function(e){return e.id===u.id&&!0===e.accepted&&!1===e.isPending}))&&Object(x.jsx)(o.b,{to:"/u/".concat(function(e){var t="";return j&&j.filter((function(n){return!(n.isGroup||n.assignedUsersId[0]!==e&&n.assignedUsersId[0]!==c.uid||n.assignedUsersId[1]!==e&&n.assignedUsersId[1]!==c.uid)&&(t=n.id,!0)})),t}(u.id)),children:Object(x.jsx)("button",{className:"action-btn btn",children:"send message"})}),d.friends.some((function(e){return e.id===u.id&&!1===e.accepted&&!1===e.isPending}))&&Object(x.jsx)(o.b,{to:"/friends",children:Object(x.jsx)("button",{className:"action-btn btn",children:"invite sent"})})]}),d&&function(){if(!d.friends)return!0;var e=0;return d.friends.forEach((function(t){t.id!==u.id&&(e+=1)})),d.friends.length===e}()&&Object(x.jsx)("button",{className:"action-btn btn",children:"invite friend"})]})]})]})]}),Object(x.jsx)("div",{className:"separator"}),Object(x.jsxs)("div",{className:"profile__comments custom-scrollbar",children:[Object(x.jsx)("div",{className:"separator"}),Object(x.jsxs)("div",{className:"comment-input",children:[Object(x.jsx)(G,{src:u.photoURL}),Object(x.jsx)("input",{type:"text",placeholder:"Add a comment",value:k,onChange:function(e){return C(e.target.value)},onClick:function(){W(!0)}}),F&&Object(x.jsxs)("div",{className:"input-controls",children:[Object(x.jsx)("i",{className:"fa-regular fa-face-smile",onClick:function(){return U(!0)},children:R&&Object(x.jsx)(Z,{pos:"right",align:"start",children:Object(x.jsx)(V.a,{onOutsideClick:function(){U(!1)},children:Object(x.jsx)(q.d,{className:"emoji-picker",onEmojiClick:function(e){!function(e){C((function(t){return t+e.emoji}))}(e)},theme:q.c.DARK,previewConfig:{defaultCaption:"",defaultEmoji:null},emojiStyle:q.b.NATIVE})})})}),Object(x.jsx)("button",{className:"btn cancel-btn",onClick:function(){W(!1)},children:"cancel"}),0===k.trim().length&&Object(x.jsx)("button",{className:"btn",disabled:!0,children:"comment"}),k.trim().length>0&&Object(x.jsx)("button",{className:"btn",onClick:function(){return Q()},children:"comment"})]})]}),Object(x.jsxs)("div",{className:"comments-container custom-scrollbar",children:[u.profileComments&&u.profileComments.map((function(e){return null!==H(e.createdBy)&&Object(x.jsxs)("div",{className:"comments-container__comment",children:[Object(x.jsx)(G,{src:H(e.createdBy).photoURL}),Object(x.jsxs)("div",{className:"flex-column",children:[Object(x.jsxs)("div",{className:"flex-row",children:[Object(x.jsx)("span",{children:H(e.createdBy).displayName}),Object(x.jsx)("span",{children:h(e.createdAt)})]}),Object(x.jsx)("p",{children:e.content})]}),(n===c.uid||e.createdBy===c.uid)&&Object(x.jsx)("i",{className:"fa-solid fa-trash-can delete-comment",onClick:function(){return v(e)}})]},e.id)})),Object(x.jsx)(J,{show:null!==g,setShow:function(){return v(null)},children:Object(x.jsxs)("div",{className:"flex-column",children:[Object(x.jsx)("h3",{className:"mt1",children:"Delete comment"}),Object(x.jsx)("p",{className:"mb3",children:"Are you sure you want to delete this comment?"}),Object(x.jsxs)("div",{className:"btn-group",children:[Object(x.jsx)("button",{className:"btn btn--secondary",onClick:function(){return v(null)},children:"cancel"}),Object(x.jsx)("button",{className:"btn",onClick:function(){X(g)},children:"delete"})]})]})})]})]})]})}):null}var Ae=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(null),r=Object(i.a)(a,2),o=r[0],l=r[1],u=Object(s.useState)(!1),d=Object(i.a)(u,2),j=d[0],m=d[1],h=w().dispatch,O=function(){var e=Object(T.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(null),m(!0),e.prev=2,e.next=5,b.signOut();case 5:h({type:"LOGOUT"}),n||(m(!1),l(null)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n||(l(e.t0.message),m(!1));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){return function(){return c(!0)}}),[]),{logout:O,error:o,isPending:j}};n(137),n(138);function Te(){return Object(x.jsx)("div",{className:"loader",children:Object(x.jsx)("span",{})})}n(139);var Ie=n(24),Ue=function(){var e=w().user,t=B("users").updateDocument,n=Object(s.useState)(""),c=Object(i.a)(n,2),a=c[0],r=c[1],o=Object(s.useState)(!1),l=Object(i.a)(o,2),u=l[0],d=l[1],j=Object(s.useState)(""),b=Object(i.a)(j,2),m=b[0],h=b[1],O=Object(s.useState)(!1),f=Object(i.a)(O,2),p=f[0],g=f[1],v=function(){var n=Object(T.a)(A.a.mark((function n(){return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r(null),!(m.length>3)){n.next=22;break}return d(!0),n.prev=3,n.next=6,Object(je.f)(e,{displayName:m});case 6:return n.next=8,t(e.uid,{displayName:m});case 8:d(!1),r(null),g(!1),h(""),s="Successfully set a new username",Ie.b.success(s,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),n.next=20;break;case 15:n.prev=15,n.t0=n.catch(3),r(n.t0.message),console.log(n.t0.message),d(!1);case 20:n.next=23;break;case 22:r("Username must be at least 3 characters long");case 23:case"end":return n.stop()}var s}),n,null,[[3,15]])})));return function(){return n.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"account-details__details-field",children:[Object(x.jsx)(Ie.a,{}),Object(x.jsx)("h3",{children:"username"}),Object(x.jsx)("p",{children:e.displayName}),Object(x.jsx)("button",{className:"btn btn--secondary",onClick:function(){return g(!0)},children:"edit"}),Object(x.jsxs)(J,{show:p,setShow:function(){return g(!1)},onClose:function(){d(!1),r(null),g(!1),h("")},children:[Object(x.jsx)("h3",{children:"Change your username"}),Object(x.jsx)("p",{children:"Enter a new, always cool username"}),Object(x.jsx)("input",{type:"text",placeholder:"Username",value:m,onChange:function(e){return h(e.target.value)}}),u&&Object(x.jsx)(Te,{}),a&&Object(x.jsx)("div",{className:"error",children:a}),Object(x.jsxs)("div",{className:"btn-group",children:[Object(x.jsx)("button",{className:"btn btn--secondary",onClick:function(){return g(!1)},children:"cancel"}),Object(x.jsx)("button",{className:"btn",onClick:function(){return v()},children:"update"})]})]})]})},Pe=function(){var e=w().user,t=Object(s.useState)(""),n=Object(i.a)(t,2),c=n[0],a=n[1],r=Object(s.useState)(!1),o=Object(i.a)(r,2),l=o[0],u=o[1],d=Object(s.useState)(""),j=Object(i.a)(d,2),m=j[0],h=j[1],O=Object(s.useState)(!1),f=Object(i.a)(O,2),p=f[0],g=f[1],v=Object(s.useState)(""),N=Object(i.a)(v,2),y=N[0],k=N[1],C=function(){var t=Object(T.a)(A.a.mark((function t(){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,a(null),m.match(n)){t.next=4;break}return t.abrupt("return",a("Invalid email address"));case 4:if(""!==y){t.next=6;break}return t.abrupt("return",a("Enter your password"));case 6:u(!0),b.signInWithEmailAndPassword(e.email,y).then((function(e){e.user.updateEmail(m).then((function(){var e;u(!1),a(null),g(!1),h(""),e="Successfully updated email address",Ie.b.success(e,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})})).catch((function(e){console.log(e.message),a(e.message),u(!1)}))})).catch((function(e){console.log(e.message),a(e.message),u(!1)}));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"account-details__details-field",children:[Object(x.jsx)(Ie.a,{}),Object(x.jsx)("h3",{children:"email"}),Object(x.jsx)("p",{children:e.email}),Object(x.jsx)("button",{className:"btn btn--secondary",onClick:function(){return g(!0)},children:"edit"}),Object(x.jsxs)(J,{show:p,setShow:function(){return g(!1)},onClose:function(){u(!1),a(null),g(!1),h("")},children:[Object(x.jsx)("h3",{className:"mb05",children:"Change your email address"}),Object(x.jsx)("p",{children:"Enter a new email address"}),Object(x.jsx)("label",{children:Object(x.jsx)("input",{type:"email",placeholder:"Email",value:m,onChange:function(e){return h(e.target.value)}})}),Object(x.jsx)("label",{children:Object(x.jsx)("input",{type:"password",placeholder:"Password",value:y,onChange:function(e){return k(e.target.value)}})}),l&&Object(x.jsx)(Te,{}),c&&Object(x.jsx)("div",{className:"error",children:c}),Object(x.jsxs)("div",{className:"btn-group",children:[Object(x.jsx)("button",{className:"btn btn--secondary",onClick:function(){return g(!1)},children:"cancel"}),Object(x.jsx)("button",{className:"btn",onClick:function(){return C()},children:"update"})]})]})]})},Be=(n(140),n(78)),Le=n.n(Be),Me=function(){var e=w().user,t=be().setUpRecaptcha,n=Object(s.useState)(""),c=Object(i.a)(n,2),a=c[0],r=c[1],o=Object(s.useState)(!1),l=Object(i.a)(o,2),u=l[0],d=l[1],j=Object(s.useState)(""),m=Object(i.a)(j,2),h=m[0],O=m[1],f=Object(s.useState)(!1),p=Object(i.a)(f,2),g=p[0],v=p[1],N=Object(s.useState)(!1),y=Object(i.a)(N,2),k=y[0],C=y[1],S=Object(s.useState)(!1),_=Object(i.a)(S,2),D=_[0],E=_[1],R=Object(s.useState)(""),I=Object(i.a)(R,2),U=I[0],P=I[1],B=Object(s.useState)(""),L=Object(i.a)(B,2),M=L[0],F=L[1],z=function(e){return Ie.b.success(e,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},G=function(){var e=Object(T.a)(A.a.mark((function e(){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("".concat(h)),r(null),""!==h&&void 0!==h&&null!==h){e.next=5;break}return r("Please enter a valid Phone Number!"),e.abrupt("return");case 5:return e.prev=5,e.next=8,t("+".concat(h));case 8:n=e.sent,P(n),E(!0),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),r(e.t0.message),console.log(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var t=Object(T.a)(A.a.mark((function t(){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==M&&null!==M){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,r(null),d(!0),n=je.a.credential(U,M),null!==e.phoneNumber&&void 0!==e.phoneNumber){t.next=11;break}return t.next=9,Object(je.d)(e,n);case 9:t.next=13;break;case 11:return t.next=13,Object(je.e)(e,n);case 13:d(!1),v(!1),E(!1),O(""),F(""),P(""),z("Successfully changed phone number"),t.next=27;break;case 22:t.prev=22,t.t0=t.catch(2),console.log(t.t0.message),r(t.t0.message),d(!1);case 27:case"end":return t.stop()}}),t,null,[[2,22]])})));return function(){return t.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"account-details__details-field",children:[Object(x.jsx)(Ie.a,{}),Object(x.jsx)("h3",{children:"phone"}),Object(x.jsx)("p",{children:e.phoneNumber?e.phoneNumber:"You haven't added a phone number yet"}),Object(x.jsxs)("div",{className:"flex-row",children:[e.phoneNumber&&Object(x.jsx)("button",{className:"btn",onClick:function(){return C(!0)},children:"remove"}),Object(x.jsx)("button",{className:"btn btn--secondary",onClick:function(){return v(!0)},children:e.phoneNumber?"edit":"add"})]}),Object(x.jsxs)(J,{show:k,setShow:function(){return C(!1)},children:[Object(x.jsx)("h3",{className:"mb05",children:"Remove phone number"}),Object(x.jsx)("p",{children:"Are you sure you want to remove your phone number from this account?"}),Object(x.jsxs)("div",{className:"btn-group",children:[Object(x.jsx)("button",{className:"btn btn--secondary",onClick:function(){return C(!1)},children:"cancel"}),Object(x.jsx)("button",{className:"btn",onClick:function(){return function(){var t=new je.a(b);e.unlink(t.providerId),z("Successfully unlinked phone number")}()},children:"remove"})]})]}),Object(x.jsxs)(J,{show:g,setShow:function(){return v(!1)},onClose:function(){d(!1),v(!1),E(!1),O(""),F(""),P("")},children:[!D&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h3",{className:"mb05",children:"Enter a phone number"}),Object(x.jsx)("p",{children:"You will recive a message containing a verification code."}),Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Your new phone number"}),Object(x.jsx)(Le.a,{country:"pl",value:h,onChange:O,enableSearch:!0,dropdownClass:"custom-scrollbar",copyNumbersOnly:!1,searchPlaceholder:"Search for countries"})]}),u&&Object(x.jsx)(Te,{}),a&&Object(x.jsx)("div",{className:"error",children:a}),Object(x.jsx)("div",{id:"recaptcha-container"}),Object(x.jsxs)("div",{className:"btn-group",children:[Object(x.jsx)("button",{className:"btn btn--secondary",onClick:function(){return v(!1)},children:"cancel"}),Object(x.jsx)("button",{className:"btn",onClick:function(){return G()},children:"Send code"})]})]}),D&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h3",{className:"mb05",children:"OTP Verification"}),Object(x.jsxs)("p",{children:["Enter the OTP sent to ",Object(x.jsxs)("span",{style:{fontWeight:"bold"},children:["+",h]})]}),Object(x.jsx)("label",{className:"otp-code",children:Object(x.jsx)("input",{type:"number",value:M,onChange:function(e){return function(e){F(e.target.value.slice(0,6))}(e)}})}),a&&Object(x.jsx)("div",{className:"error",children:a}),Object(x.jsxs)("div",{className:"btn-group",children:[Object(x.jsx)("button",{className:"btn btn--secondary",onClick:function(){return E(!1)},children:"go back"}),Object(x.jsx)("button",{className:"btn",onClick:function(){return W()},children:"Change number"})]})]})]})]})},Fe=function(){var e=w().user,t=Ae().logout,n=Object(s.useState)(""),c=Object(i.a)(n,2),a=c[0],r=c[1],o=Object(s.useState)(!1),l=Object(i.a)(o,2),u=l[0],d=l[1],j=Object(s.useState)(!1),m=Object(i.a)(j,2),h=m[0],O=m[1],f=Object(s.useState)(""),p=Object(i.a)(f,2),g=p[0],v=p[1],N=Object(s.useState)(""),y=Object(i.a)(N,2),k=y[0],C=y[1],S=Object(s.useState)(""),_=Object(i.a)(S,2),D=_[0],E=_[1];return Object(x.jsxs)("div",{className:"account-details__details-field",children:[Object(x.jsx)("h3",{children:"password"}),Object(x.jsx)("p",{children:"***************"}),Object(x.jsx)("button",{className:"btn btn--secondary",onClick:function(){return O(!0)},children:"edit"}),Object(x.jsxs)(J,{show:h,setShow:function(){return O(!1)},onClose:function(){d(!1),r(null),O(!1),v(""),C(""),E("")},children:[Object(x.jsx)("h3",{className:"mb05",children:"Change password"}),Object(x.jsx)("p",{children:"Enter your current password and a new password. Also remember that your name isn't a good password..."}),Object(x.jsx)("label",{children:Object(x.jsx)("input",{type:"password",placeholder:"Current password",value:g,onChange:function(e){return v(e.target.value)}})}),Object(x.jsx)("label",{children:Object(x.jsx)("input",{type:"password",placeholder:"New password",value:k,onChange:function(e){return C(e.target.value)}})}),Object(x.jsx)("label",{children:Object(x.jsx)("input",{type:"password",placeholder:"Confirm new password",value:D,onChange:function(e){return E(e.target.value)}})}),u&&Object(x.jsx)(Te,{}),a&&Object(x.jsx)("div",{className:"error",children:a}),Object(x.jsxs)("div",{className:"btn-group",children:[Object(x.jsx)("button",{className:"btn btn--secondary",onClick:function(){return O(!1)},children:"cancel"}),Object(x.jsx)("button",{className:"btn",onClick:function(){return r(null),""===g?r("Enter a password"):""===k||""===D?r("Enter a new password"):k!==D?r("Passwords must match"):(d(!0),void b.signInWithEmailAndPassword(e.email,g).then((function(e){e.user.updatePassword(k).then((function(){d(!1),r(null),O(!1),v(""),C(""),E(""),t()})).catch((function(e){console.log(e.message),r(e.message),d(!1)}))})).catch((function(e){console.log(e.message),r("Enter a correct password"),d(!1)})))},children:"update"})]})]})]})},ze=function(){var e=w().user,t=Object(s.useState)(null),n=Object(i.a)(t,2),c=n[0],a=n[1],r=Object(s.useState)(null),o=Object(i.a)(r,2),l=o[0],u=o[1],d=Object(s.useState)(!1),j=Object(i.a)(d,2),m=j[0],h=j[1],O=Object(s.useState)(""),f=Object(i.a)(O,2),p=f[0],g=f[1],v=Object(s.useState)(!1),N=Object(i.a)(v,2),y=N[0],k=N[1],C=Object(s.useState)(10),S=Object(i.a)(C,2),_=S[0],D=S[1],E=Object(s.useState)(null),R=Object(i.a)(E,2),A=(R[0],R[1]);Object(s.useEffect)((function(){!0===y&&T()}),[y]);var T=function(){var e=setInterval((function(){_<0?clearInterval(e):D((function(e){return e-1}))}),1e3);setTimeout((function(){I()}),1e4)},I=function(){a(null),Object(je.c)(e).then((function(){u(!1),a(null),h(!1)})).catch((function(e){console.log(e.message),a(e.message),u(!1)}))},U=function(){var t=!1;return e.providerData.forEach((function(e){"password"===e.providerId&&(t=!0)})),t};return Object(x.jsxs)("div",{className:"account-details__details-delete-account",children:[Object(x.jsx)("button",{className:"btn",onClick:function(){return h(!0)},children:"Delete Account"}),Object(x.jsxs)(J,{show:m,setShow:function(){return h(!1)},onClose:function(){u(!1),a(null),h(!1),g(""),k(!1),D(10)},children:[Object(x.jsxs)("div",{className:"modal__content-padding flex-column align-center",children:[y&&Object(x.jsxs)("div",{className:"countdown",children:[Object(x.jsx)("h3",{children:"Deleting account in"}),Object(x.jsx)("div",{children:_}),Object(x.jsx)("button",{className:"btn",onClick:function(){h(!1)},children:"cancel"})]}),!y&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("i",{className:"fa-solid fa-trash-can"}),Object(x.jsx)("h3",{children:"Delete Account?"}),Object(x.jsx)("p",{className:"mb0",children:"You'll permanently lose your:"}),Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{children:[Object(x.jsx)("i",{className:"fa-solid fa-xmark"}),Object(x.jsx)("span",{children:"Profile"})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("i",{className:"fa-solid fa-xmark"}),Object(x.jsx)("span",{children:"Messages"})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("i",{className:"fa-solid fa-xmark"}),Object(x.jsx)("span",{children:"Personal data"})]})]}),U()&&Object(x.jsxs)("label",{children:[Object(x.jsx)("p",{children:"Enter your password to confirm"}),Object(x.jsx)("input",{type:"password",value:p,onChange:function(e){return g(e.target.value)},placeholder:"Aa..."})]}),l&&Object(x.jsx)(Te,{}),c&&Object(x.jsx)("div",{className:"error",children:c})]})]}),!y&&Object(x.jsxs)("div",{className:"btn-group",children:[Object(x.jsx)("button",{className:"btn btn--secondary",onClick:function(){h(!1)},children:"cancel"}),Object(x.jsx)("button",{className:"btn",onClick:function(){!function(){if(U()){if(""===p)return a("You must enter a valid password");b.signInWithEmailAndPassword(e.email,p).then((function(e){k(!0),A(e)})).catch((function(e){console.log(e.message),a("The password you entered is invalid")}))}k(!0)}()},children:"confirm"})]})]})]})},Ge=function(){var e=w().user,t=I("users",e.uid),n=t.document,c=t.error,a=Object(s.useState)("copy"),r=Object(i.a)(a,2),o=r[0],l=r[1],u=function(){var t=!1;return e.providerData.forEach((function(e){"password"===e.providerId&&(t=!0)})),t};return c?Object(x.jsx)("div",{className:"error",children:c}):n&&e?Object(x.jsxs)("div",{className:"account-details",children:[Object(x.jsx)("h2",{className:"setting-title",children:"account details"}),Object(x.jsxs)("div",{className:"account-details__details",children:[Object(x.jsxs)("div",{className:"account-details__details-field",children:[Object(x.jsx)("h3",{children:"invite code"}),Object(x.jsx)("p",{children:e.uid}),Object(x.jsx)("button",{className:"btn btn--secondary",onClick:function(){return navigator.clipboard.writeText(e.uid),l("copied"),void setTimeout((function(){l("copy")}),1e3)},children:o})]}),Object(x.jsx)("div",{className:"separator"}),Object(x.jsx)(Ue,{}),Object(x.jsx)("div",{className:"separator"}),u()&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Pe,{}),Object(x.jsx)("div",{className:"separator"})]}),Object(x.jsx)(Me,{}),Object(x.jsx)("div",{className:"separator"}),u()&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Fe,{}),Object(x.jsx)("div",{className:"separator"})]})]}),Object(x.jsx)(ze,{})]}):!n&&e?Object(x.jsx)(Te,{}):void 0},We=(n(141),n(82)),Ve=function(e){return new Promise((function(t,n){var s=new Image;s.addEventListener("load",(function(){return t(s)})),s.addEventListener("error",(function(e){return n(e)})),s.setAttribute("crossOrigin","anonymous"),s.src=e}))};function He(e){return e*Math.PI/180}function Je(e,t,n){var s=He(n);return{width:Math.abs(Math.cos(s)*e)+Math.abs(Math.sin(s)*t),height:Math.abs(Math.sin(s)*e)+Math.abs(Math.cos(s)*t)}}function Ze(e,t){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(T.a)(A.a.mark((function e(t,n){var s,c,a,r,i,o,l,u,d,j,b=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=b.length>2&&void 0!==b[2]?b[2]:0,c=b.length>3&&void 0!==b[3]?b[3]:{horizontal:!1,vertical:!1},e.next=4,Ve(t);case 4:if(a=e.sent,r=document.createElement("canvas"),i=r.getContext("2d")){e.next=9;break}return e.abrupt("return",null);case 9:return o=He(s),l=Je(a.width,a.height,s),u=l.width,d=l.height,r.width=u,r.height=d,i.translate(u/2,d/2),i.rotate(o),i.scale(c.horizontal?-1:1,c.vertical?-1:1),i.translate(-a.width/2,-a.height/2),i.drawImage(a,0,0),j=i.getImageData(n.x,n.y,n.width,n.height),r.width=n.width,r.height=n.height,i.putImageData(j,0,0),e.abrupt("return",new Promise((function(e,t){r.toBlob((function(t){console.log("file-from-crop",t),e(t)}),"image/jpeg")})));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qe=n(83),Xe=function(e){var t=e.setAvatarState,n=e.userDoc,c=e.setShowAvatarModal,a=e.showAvatarModal,r=w().user,o=B("users").updateDocument,l=Object(We.a)({noClick:!0,multiple:!1,accept:{"image/*":[]},onDrop:function(e){D(Object.assign(e[0],{preview:URL.createObjectURL(e[0])}))}}),d=(l.acceptedFiles,l.getRootProps),j=l.getInputProps,b=l.isDragAccept,h=l.isDragReject,O=l.open,f=Object(s.useState)(null),p=Object(i.a)(f,2),g=p[0],v=p[1],N=Object(s.useState)(!1),y=Object(i.a)(N,2),k=(y[0],y[1]),C=Object(s.useState)(null),S=Object(i.a)(C,2),_=S[0],D=S[1],E=Object(s.useState)({x:0,y:0}),R=Object(i.a)(E,2),I=R[0],U=R[1],P=Object(s.useState)(1),L=Object(i.a)(P,2),M=L[0],F=L[1],z=Object(s.useState)(null),G=Object(i.a)(z,2),W=G[0],V=G[1],H=Object(s.useState)(null),Z=Object(i.a)(H,2),Y=(Z[0],Z[1]),Q=Object(s.useCallback)((function(e,t){V(t)}),[]),X=Object(s.useCallback)(Object(T.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ze(_.preview,W,0);case 3:t=e.sent,Y(t),ae(t,!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[W,_]),q=function(e){var t=e.onUndo,n=e.closeToast;return Object(x.jsxs)("div",{className:"reset-toast",children:["Avatar Deleted ",Object(x.jsx)("button",{onClick:function(){t(),n()},children:"UNDO"})]})},K=function(){var e=Object(te.e)(m,"thumbnails/".concat(r.uid,"/"));Object(te.d)(e).then((function(e){var t=Object(te.e)(m,e.items[0].fullPath);Object(te.a)(t)})).catch((function(e){v(e.message),console.log(e.message)}))},$=function(){var e=Object(T.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(null),k(!0),e.prev=2,e.next=5,Object(je.f)(r,{photoURL:""});case 5:return e.next=7,o(r.uid,{photoURL:""});case 7:K(),k(!1),v(null),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),v(e.t0.message),console.log(e.t0.message),k(!1);case 17:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}();var ee=Object(s.useReducer)((function(e,t){switch(t.type){case"QUEUE_FOR_REMOVAL":return{url:e.url,remove:!0};case"CLEAN_COLLECTION":return e.remove&&$(),{url:e.remove?"":e.url,remove:!1};case"UNDO":return{url:e.url,remove:!1};default:return e}}),{url:null,remove:!1}),ne=Object(i.a)(ee,2),se=ne[0],ce=ne[1];Object(s.useEffect)((function(){t(se)}),[se]);var ae=function(){var e=Object(T.a)(A.a.mark((function e(t){var n,s,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(te.c)(),s="thumbnails/".concat(r.uid,"/").concat(t.name),a=Object(te.e)(n,s),e.next=5,Object(te.f)(a,t).then((function(e){Object(te.b)(e.ref).then(function(){var e=Object(T.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o(r.uid,{photoURL:t});case 3:return e.next=5,r.updateProfile({photoURL:t});case 5:c(!1),D(null),U({x:0,y:0}),F(1),V(null),Y(null),Ie.b.success("Succesfully updated your avatar",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}())})).catch((function(e){console.log(e.message)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n&&Object(x.jsxs)("div",{className:"profile-settings__fields-field",children:[Object(x.jsx)("h3",{className:"field-title",children:"avatar"}),Object(x.jsxs)("div",{className:"btn-group",children:[Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{className:"btn",onClick:function(){return c(!0)},children:"change avatar"}),Object(x.jsxs)(J,{show:a,setShow:function(){return c(!1)},children:[!_&&Object(x.jsxs)("section",Object(u.a)(Object(u.a)({},d({className:"dropzone-container ".concat(b?"accepted":""," ").concat(h?"rejected":"")})),{},{children:[Object(x.jsx)("input",Object(u.a)({},j())),Object(x.jsx)("button",{className:"btn",onClick:O,children:"Upload Image"}),Object(x.jsx)("p",{children:"...or drag and drop image"})]})),_&&console.log(_[0]),_&&Object(x.jsxs)("div",{className:"crop-container",children:[Object(x.jsx)("div",{className:"modal__content-padding",children:Object(x.jsxs)("section",{children:[Object(x.jsx)("h3",{children:"Edit Image"}),Object(x.jsx)(Qe.a,{image:_.preview,crop:I,zoom:M,aspect:1,cropShape:"round",onCropChange:U,onCropComplete:Q,onZoomChange:F,maxZoom:3}),Object(x.jsx)("div",{className:"controls",children:Object(x.jsx)("input",{type:"range",value:M,min:1,max:3,step:.01,"aria-labelledby":"Zoom",onChange:function(e){F(e.target.value)},className:"zoom-range"})})]})}),Object(x.jsxs)("div",{className:"btn-group",children:[Object(x.jsx)("button",{className:"btn btn--secondary",onClick:function(){return ae(_)},children:"Skip"}),Object(x.jsxs)("div",{className:"flex-row gap1",children:[Object(x.jsx)("button",{className:"btn btn--secondary",onClick:function(){D(null),U({x:0,y:0}),F(1)},children:"Cancel"}),Object(x.jsx)("button",{className:"btn",onClick:X,children:"Apply"})]})]})]})]})]}),n.photoURL&&!se.remove&&Object(x.jsx)("button",{className:"btn btn--secondary",onClick:function(){ce({type:"QUEUE_FOR_REMOVAL"}),Ie.b.info(Object(x.jsx)(q,{onUndo:function(){return ce({type:"UNDO"})}}),{position:"bottom-right",autoClose:15e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark",onClose:function(){return ce({type:"CLEAN_COLLECTION"})}})},children:"remove avatar"})]}),g&&Object(x.jsx)("div",{className:"error",children:g})]})};function qe(e){var t=e.setBannerColor,n=e.bannerColor,c=w().user,a=B("users").updateDocument,r=Object(s.useState)(null),o=Object(i.a)(r,2),l=o[0],u=o[1],d=Object(s.useState)(!1),j=Object(i.a)(d,2),b=(j[0],j[1]),m=function(){var e=Object(T.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(null),b(!0),e.prev=2,e.next=5,a(c.uid,{banner:"".concat(n)});case 5:b(!1),u(null),t="Updated banner",Ie.b.success(t,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),u(e.t0.message),console.log(e.t0.message),b(!1);case 15:case"end":return e.stop()}var t}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"profile-settings__fields-field flex-row align-end gap1",children:[Object(x.jsxs)("div",{className:"flex-column",children:[Object(x.jsx)("h3",{className:"field-title",children:"banner color"}),Object(x.jsx)(ie,{value:n,setValue:function(e){t(e.target.value)},className:"mb0"})]}),Object(x.jsx)("button",{className:"btn btn--secondary",onClick:function(){return m()},children:"Update Banner"}),l&&Object(x.jsx)("div",{className:"error",children:l})]})}function Ke(e){var t=e.about,n=e.setAbout,c=w().user,a=B("users").updateDocument,r=Object(s.useState)(null),o=Object(i.a)(r,2),l=o[0],u=o[1],d=Object(s.useState)(!1),j=Object(i.a)(d,2),b=(j[0],j[1]),m=function(){var e=Object(T.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(null),!(t.length<71)){e.next=17;break}return e.prev=2,e.next=5,a(c.uid,{bio:t});case 5:b(!1),u(null),n="Updated about me",Ie.b.success(n,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),u(e.t0.message),console.log(e.t0.message),b(!1);case 15:e.next=18;break;case 17:u("About me must be less than 169 character long");case 18:case"end":return e.stop()}var n}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"profile-settings__fields-field",children:[Object(x.jsx)("h3",{className:"field-title",children:"about me"}),Object(x.jsxs)("div",{className:"textarea-container",children:[Object(x.jsx)("textarea",{value:t,onChange:function(e){return n(e.target.value)}}),Object(x.jsx)("div",{className:"textarea-container__char-counter ".concat(t.length>70?"limit":""),children:70-t.length})]}),l&&Object(x.jsx)("div",{className:"error",children:l}),Object(x.jsx)("button",{className:"btn btn--secondary text-capitalize",onClick:function(){return m()},children:"update about me"})]})}function $e(e){var t=e.userDoc,n=e.avatarState,s=e.about,c=e.bannerColor,a=e.setShowAvatarModal;return Object(x.jsxs)("div",{className:"profile-preview",children:[Object(x.jsx)("div",{className:"profile-preview__banner",style:{backgroundColor:c}}),Object(x.jsx)("div",{className:"profile-preview__header",children:Object(x.jsx)("div",{onClick:function(){a(!0)},children:Object(x.jsx)(Y,{userId:t.id,src:n&&!n.remove?n.url:""})})}),Object(x.jsxs)("div",{className:"profile-preview__info",children:[Object(x.jsx)("h3",{className:"name",children:t.displayName}),Object(x.jsxs)("div",{className:"cards",children:[Object(x.jsx)("div",{className:"cards__card",children:s&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h4",{children:"About me"}),Object(x.jsx)("p",{className:"bio",children:s})]})}),Object(x.jsxs)("div",{className:"cards__card",children:[Object(x.jsx)("h4",{children:"Member since"}),Object(x.jsx)("p",{children:t.createdAt})]})]})]})]})}var et=function(){var e=w().user,t=I("users",e.uid).document,n=Object(s.useState)("#354167"),c=Object(i.a)(n,2),a=c[0],r=c[1],o=Object(s.useState)({}),l=Object(i.a)(o,2),u=l[0],d=l[1],j=Object(s.useState)(!1),b=Object(i.a)(j,2),m=b[0],h=b[1],O=Object(s.useState)(""),f=Object(i.a)(O,2),p=f[0],g=f[1];return Object(s.useEffect)((function(){t&&(t.banner&&r(t.banner),t.bio&&g(t.bio))}),[t]),t?t?Object(x.jsxs)("div",{className:"profile-settings",children:[Object(x.jsx)(Ie.a,{}),Object(x.jsx)("h2",{className:"setting-title",children:"customize profile"}),Object(x.jsxs)("div",{className:"profile-settings__container",children:[Object(x.jsx)($e,{userDoc:t,avatarState:u,bannerColor:a,about:p,setShowAvatarModal:h}),Object(x.jsxs)("div",{className:"profile-settings__fields",children:[Object(x.jsx)(qe,{setBannerColor:r,bannerColor:a}),Object(x.jsx)(Xe,{setAvatarState:function(e){return d(e)},userDoc:t,setShowAvatarModal:h,showAvatarModal:m}),Object(x.jsx)(Ke,{about:p,setAbout:g})]})]})]}):void 0:Object(x.jsx)(Te,{})},tt=function(){return Object(x.jsx)("div",{children:"Do I even want to spend time on that?"})},nt=function(){return Object(x.jsx)("div",{children:Object(x.jsx)("a",{href:"https://buycoffee.to/mhada",target:"_blank",rel:"noreferrer",children:Object(x.jsx)("img",{src:"https://buycoffee.to/btn/buycoffeeto-btn-primary.svg",style:{width:"170px"},alt:"Postaw mi kaw\u0119 na buycoffee.to"})})})},st=function(){return Object(x.jsx)("div",{children:"I guarantee that it's safe"})};function ct(){var e=w().user,t=Ae(),n=t.logout,c=t.error,a=t.isPending,r=Object(s.useState)(!1),u=Object(i.a)(r,2),d=u[0],j=u[1];return Object(x.jsx)("div",{className:"settings",children:Object(x.jsxs)("div",{className:"wrapper",children:[Object(x.jsxs)("aside",{className:"settings__sidebar",children:[Object(x.jsxs)(o.b,{to:"/profile/".concat(e.uid),className:"settings__sidebar-user",children:[Object(x.jsx)(Y,{userId:e.uid}),Object(x.jsxs)("div",{className:"flex-column",children:[Object(x.jsx)("h3",{children:e.displayName}),Object(x.jsx)("p",{children:e.email&&e.email})]})]}),Object(x.jsxs)("div",{className:"custom-scrollbar flex-column gap05",children:[Object(x.jsxs)(o.c,{to:"/settings/account-details",className:"settings__sidebar-link",children:[Object(x.jsx)("i",{className:"fa-solid fa-circle-user"}),Object(x.jsx)("span",{children:"account details"})]}),Object(x.jsxs)(o.c,{to:"/settings/profile",className:"settings__sidebar-link",children:[Object(x.jsx)("i",{className:"fa-solid fa-address-card"}),Object(x.jsx)("span",{children:"profile"})]}),Object(x.jsxs)(o.c,{to:"/settings/theme",className:"settings__sidebar-link",children:[Object(x.jsx)("i",{className:"fa-solid fa-paintbrush"}),Object(x.jsx)("span",{children:"theme"})]}),Object(x.jsxs)(o.c,{to:"/settings/become-cool",className:"settings__sidebar-link",children:[Object(x.jsx)("img",{src:Ee,alt:"Icon for premium account"}),Object(x.jsx)("span",{children:"plenvy pro"})]}),Object(x.jsxs)(o.c,{to:"/settings/privacy-and-security",className:"settings__sidebar-link",children:[Object(x.jsx)("i",{className:"fa-solid fa-shield-halved"}),Object(x.jsx)("span",{children:"privacy & security"})]}),Object(x.jsxs)("div",{className:"settings__sidebar-link logout",onClick:function(){return j(!0)},children:[Object(x.jsx)("span",{children:"log out"}),Object(x.jsx)("i",{className:"fa-solid fa-arrow-right-from-bracket"})]})]}),Object(x.jsxs)(J,{show:d,setShow:function(){return j(!1)},children:[!a&&Object(x.jsx)("i",{className:"fa-regular fa-hand mb05"}),a&&Object(x.jsx)(Te,{}),Object(x.jsx)("h3",{className:"mb05",children:"Come back soon!"}),Object(x.jsx)("p",{children:"Are you sure you want to Log Out?"}),Object(x.jsxs)("div",{className:"btn-group",children:[Object(x.jsx)("button",{className:"btn btn--secondary",onClick:function(){return j(!1)},children:"cancel"}),Object(x.jsx)("button",{className:"btn",onClick:function(){return n()},children:"logout"})]}),c&&Object(x.jsx)("div",{className:"error",children:c})]})]}),Object(x.jsx)("div",{className:"settings__content custom-scrollbar",children:Object(x.jsxs)(l.d,{children:[Object(x.jsx)(l.b,{path:"account-details",element:Object(x.jsx)(Ge,{})}),Object(x.jsx)(l.b,{path:"profile",element:Object(x.jsx)(et,{})}),Object(x.jsx)(l.b,{path:"theme",element:Object(x.jsx)(tt,{})}),Object(x.jsx)(l.b,{path:"become-cool",element:Object(x.jsx)(nt,{})}),Object(x.jsx)(l.b,{path:"privacy-and-security",element:Object(x.jsx)(st,{})})]})})]})})}n(146);var at=function(){var e=w().user,t=I("users",e.uid).document,n=D("users").documents,c=Object(s.useState)(""),a=Object(i.a)(c,2),r=a[0],l=a[1],u=Object(s.useState)("all"),d=Object(i.a)(u,2),j=d[0],b=d[1],m=Object(s.useState)(t?t.friends:[]),h=Object(i.a)(m,2),O=(h[0],h[1],function(e){var t=null;return n&&(t=n.filter((function(t){return t.id===e}))[0]),t}),f=function(e){if(O(e.id)){var t;switch(j){case"offline":t="invisible";break;case"do not disturb":t="do-not-disturb";break;case"all":t=O(e.id).status;break;default:t=j}if(O(e.id).status===t&&e.accepted)return!(!O(e.id).displayName.toLowerCase().trim().replace(/\s+/g,"").includes(r.toLowerCase())&&""!==r)}return!1};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"friends__filter",children:[Object(x.jsx)("div",{className:"friends__filter-item ".concat("all"===j?"active":""),onClick:function(){return b("all")},children:"all"}),Object(x.jsx)("div",{className:"friends__filter-item ".concat("online"===j?"active":""),onClick:function(){return b("online")},children:"online"}),Object(x.jsx)("div",{className:"friends__filter-item ".concat("idle"===j?"active":""),onClick:function(){return b("idle")},children:"idle"}),Object(x.jsx)("div",{className:"friends__filter-item ".concat("do not disturb"===j?"active":""),onClick:function(){return b("do not disturb")},children:"do not disturb"}),Object(x.jsx)("div",{className:"friends__filter-item ".concat("offline"===j?"active":""),onClick:function(){return b("offline")},children:"offline"})]}),Object(x.jsxs)("label",{className:"friends__search",children:[Object(x.jsx)("input",{type:"text",placeholder:"Search",onChange:function(e){return l(e.target.value)},value:r}),Object(x.jsx)("i",{className:"fa-solid fa-magnifying-glass"})]}),t&&t.friends&&t.friends.filter((function(e){return f(e)})).length>0?Object(x.jsxs)("div",{className:"friends__list",children:[Object(x.jsxs)("div",{className:"friends__list-title",children:[j," - ",t.friends.filter((function(e){return f(e)})).length]}),Object(x.jsx)("div",{className:"friends__list-users",children:t.friends.map((function(e){return f(e)&&Object(x.jsxs)(o.b,{to:"/profile/".concat(e.id),className:"user",children:[Object(x.jsxs)("div",{className:"flex-row gap05",children:[Object(x.jsx)(Y,{userId:e.id}),Object(x.jsxs)("div",{className:"flex-column",children:[Object(x.jsx)("p",{children:O(e.id)&&O(e.id).displayName}),Object(x.jsx)("p",{children:"online"})]})]}),Object(x.jsx)("i",{className:"fa-solid fa-message"})]},e.id)}))})]}):Object(x.jsx)("div",{className:"absolute-center",children:"No user to be found"})]})},rt=function(){var e=w().user,t=I("users",e.uid).document,n=D("users").documents,c=B("users").updateDocument,a=Object(s.useState)(null),r=Object(i.a)(a,2),l=r[0],u=r[1],d=Object(s.useState)(""),j=Object(i.a)(d,2),b=j[0],m=j[1],h=function(){var s=Object(T.a)(A.a.mark((function s(){var a;return A.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(u(null),a=null,n.forEach((function(e){e.id===b.trim()&&(a=e)})),null!==a){s.next=6;break}return u("Could not find user with this id"),s.abrupt("return");case 6:if(!t.friends||!t.friends.some((function(e){return e.id===b.trim()}))){s.next=9;break}return u("You've already invited this user or this user has invited you"),s.abrupt("return");case 9:return s.prev=9,s.next=12,c(e.uid,{friends:[].concat(Object(_.a)(t.friends?t.friends:[]),[{id:a.id,isPending:!1,accepted:!1}])});case 12:return s.next=14,c(a.id,{friends:[].concat(Object(_.a)(a.friends?a.friends:[]),[{id:t.id,isPending:!0,accepted:!1}])});case 14:r="Successfully sent invite",Ie.b.success(r,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"}),m(""),s.next=22;break;case 18:s.prev=18,s.t0=s.catch(9),u(s.t0.message),console.log(s.t0.message);case 22:case"end":return s.stop()}var r}),s,null,[[9,18]])})));return function(){return s.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"friends__add",children:[Object(x.jsx)(Ie.a,{}),Object(x.jsx)("h3",{className:"friends__add-title",children:"add friend"}),Object(x.jsxs)("div",{className:"friends__add-description",children:[Object(x.jsx)("span",{children:"Enter invite code of user you want to add. "}),Object(x.jsxs)("span",{children:["You can find the code in ",Object(x.jsx)(o.b,{to:"/settings/account-details",children:"account settings."})]})]}),Object(x.jsxs)("label",{className:"friends__add-code-input",children:[Object(x.jsx)("input",{type:"text",placeholder:"Enter Friends Invite Code",value:b,onChange:function(e){return m(e.target.value)}}),Object(x.jsx)("button",{className:"btn btn--secondary text-capitalize",onClick:function(){return h()},children:"send friend invite"})]}),l&&Object(x.jsx)("div",{className:"error",children:l})]})},it=n(60),ot=function(){var e=w().user,t=D("users").documents,n=D("projects").documents,c=I("users",e.uid).document,a=B("users").updateDocument,r=Object(s.useState)(null),o=Object(i.a)(r,2),l=o[0],u=o[1],d=function(e){return Ie.b.success(e,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})},b=function(e){var n=null;return t&&(n=t.filter((function(t){return t.id===e}))[0]),n},m=function(){var t=Object(T.a)(A.a.mark((function t(s){var c,a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=e.uid>s.id?e.uid+s.id:s.id+e.uid,a={id:c,assignedUsers:[{id:e.uid,nickname:e.displayName},{id:s.id,nickname:s.displayName}],assignedUsersId:[e.uid,s.id],chatEmoji:"1f44d",messages:[],updatedAt:p.fromDate(new Date),createdAt:p.fromDate(new Date),customThemes:[]},t.prev=2,n.some((function(e){return e.id===c}))||e.uid===s.id){t.next=7;break}return t.next=7,Object(it.b)(Object(it.a)(j,"projects",c),a);case 7:t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0.message),u(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(T.a)(A.a.mark((function t(n,s){var r,i,o;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(null),(r=c.friends)[s]={id:n.id,isPending:!1,accepted:!0},(i=b(n.id).friends).some((function(e,t){return e.id===c.id&&(o=t,!0)})),i[o]={id:c.id,isPending:!1,accepted:!0},t.prev=6,t.next=9,a(e.uid,{friends:r});case 9:return t.next=11,a(n.id,{friends:i});case 11:return t.next=13,m(b(n.id));case 13:d("Successfully added user to your friends"),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(6),u(t.t0.message),console.log(t.t0.message);case 20:case"end":return t.stop()}}),t,null,[[6,16]])})));return function(e,n){return t.apply(this,arguments)}}(),O=function(){var t=Object(T.a)(A.a.mark((function t(n,s){var r,i,o;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(null),(r=c.friends).splice(s,1),(i=b(n.id).friends).some((function(e,t){return e.id===c.id&&(o=t,!0)})),i.splice(o,1),console.log("other user cut",i),t.prev=7,t.next=10,a(e.uid,{friends:r});case 10:return t.next=12,a(n.id,{friends:i});case 12:d("Successfully declined/canceled invitation"),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(7),u(t.t0.message),console.log(t.t0.message);case 19:case"end":return t.stop()}}),t,null,[[7,15]])})));return function(e,n){return t.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"friends__invites mt2",children:[Object(x.jsx)(Ie.a,{}),c&&c.friends&&Object(x.jsxs)(x.Fragment,{children:[c.friends.map((function(e,t){return!e.isPending&&!e.accepted&&Object(x.jsxs)("div",{className:"friends__invites-user",children:[Object(x.jsxs)("div",{className:"flex-row gap1",children:[Object(x.jsx)(G,{src:b(e.id).photoURL}),Object(x.jsxs)("div",{className:"flex-column",children:[Object(x.jsx)("p",{children:b(e.id).displayName}),Object(x.jsx)("p",{children:"You invited this user"})]})]}),Object(x.jsx)("div",{className:"flex-row gap1 options",children:Object(x.jsxs)("div",{className:"options__decline",onClick:function(){return O(e,t)},children:[Object(x.jsx)(Z,{children:"Cancel invite"}),Object(x.jsx)("i",{className:"fa-solid fa-xmark"})]})})]},e.id)})),c.friends.filter((function(e){return!e.accepted&&!e.isPending})).length>0?Object(x.jsx)("div",{className:"separator mb1 mt1"}):"",0===c.friends.filter((function(e){return!e.accepted})).length?Object(x.jsx)("div",{className:"absolute-center",children:"There are no pending invites"}):"",c.friends.map((function(e,t){return e.isPending&&!e.accepted&&Object(x.jsxs)("div",{className:"friends__invites-user",children:[Object(x.jsxs)("div",{className:"flex-row gap1",children:[Object(x.jsx)(G,{src:b(e.id).photoURL}),Object(x.jsxs)("div",{className:"flex-column",children:[Object(x.jsx)("p",{children:b(e.id).displayName}),Object(x.jsx)("p",{children:"Sent you an invite"})]})]}),Object(x.jsxs)("div",{className:"flex-row gap1 options",children:[Object(x.jsxs)("div",{className:"options__decline",onClick:function(){return O(e,t)},children:[Object(x.jsx)(Z,{children:"Decline"}),Object(x.jsx)("i",{className:"fa-solid fa-xmark"})]}),Object(x.jsxs)("div",{className:"options__accept",onClick:function(){return h(e,t)},children:[Object(x.jsx)(Z,{children:"Accept"}),Object(x.jsx)("i",{className:"fa-solid fa-check"})]})]})]},e.id)}))]}),l&&Object(x.jsx)("div",{className:"error",children:l})]})},lt=function(){var e=w().user,t=I("users",e.uid).document,n=Object(s.useState)("list"),c=Object(i.a)(n,2),a=c[0],r=c[1],o=Object(s.useState)(0),l=Object(i.a)(o,2),u=l[0],d=l[1];return Object(s.useEffect)((function(){t&&t.friends&&d(t.friends.filter((function(e){return!!e.isPending})).length)}),[t]),t&&Object(x.jsxs)("div",{className:"friends wrapper",children:[Object(x.jsxs)("div",{className:"friends__title-bar",children:[Object(x.jsxs)("div",{className:"friends__title-bar-title",onClick:function(){return r("list")},children:[Object(x.jsx)("i",{className:"fa-solid fa-user-group"}),Object(x.jsx)("h2",{children:"Friends"})]}),Object(x.jsxs)("div",{className:"flex-row gap1",children:[Object(x.jsxs)("div",{className:"friends__title-bar-pending ".concat("pending"===a?"active":""),onClick:function(){return r("pending")},children:[Object(x.jsx)("span",{children:"pending"}),u>0&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("i",{className:"fa-solid fa-envelope"}),Object(x.jsx)("div",{className:"pending-indicator",children:Object(x.jsx)("p",{children:u})})]})]}),Object(x.jsxs)("div",{className:"friends__title-bar-add ".concat("add"===a?"active":""),onClick:function(){return r("add")},children:[Object(x.jsx)("span",{children:"add friend"}),Object(x.jsx)("i",{className:"fa-solid fa-user-plus"})]})]})]}),"list"===a&&Object(x.jsx)(at,{}),"add"===a&&Object(x.jsx)(rt,{}),"pending"===a&&Object(x.jsx)(ot,{})]})};var ut=function(){var e=Object(s.useRef)(null),t=w(),n=t.user,c=t.authIsReady,a=D("themes").documents,r=Object(s.useState)(null),u=Object(i.a)(r,2),d=u[0],j=u[1],b=Object(s.useState)(a),m=Object(i.a)(b,2),h=m[0],O=m[1],f=function(e){var t;return!0===e.isCustom?d.customThemes&&d.customThemes.forEach((function(n){n.id===e.name&&(t=n)})):a&&a.forEach((function(n){n.id===e.name&&(t=n)})),t};return Object(s.useEffect)((function(){d?d.theme?O(f(d.theme)):O(f({name:"frosty",isCustom:!1})):a&&O(f({name:"frosty",isCustom:!1}))}),[a,d]),c&&h&&Object(x.jsxs)(k.a,{theme:h,children:[Object(x.jsx)(S,{}),Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)(o.a,{children:[n&&Object(x.jsx)(_e,{}),Object(x.jsxs)(l.d,{children:[Object(x.jsx)(l.b,{path:"/",element:n?Object(x.jsx)(E,{}):Object(x.jsx)(l.a,{to:"/login"})}),Object(x.jsx)(l.b,{path:"/u/:id",element:n?[Object(x.jsx)(Ce,{currentChat:d,inputRef:e},"chats"),Object(x.jsx)(de,{setCurrentChat:j,inputRef:e,currentTheme:h},"chat")]:Object(x.jsx)(l.a,{to:"/"})}),Object(x.jsx)(l.b,{path:"/u/",element:Object(x.jsxs)("div",{className:"no-chats absolute-center ",children:[Object(x.jsx)("h2",{children:"no chats yet"}),Object(x.jsx)(o.b,{to:"/friends/",children:Object(x.jsx)("button",{className:"btn btn--secondary",children:"add friends"})})]})}),Object(x.jsx)(l.b,{path:"/profile/:id",element:n?Object(x.jsx)(Re,{}):Object(x.jsx)(l.a,{to:"/"})}),Object(x.jsx)(l.b,{path:"/friends",element:n?Object(x.jsx)(lt,{}):Object(x.jsx)(l.a,{to:"/"})}),Object(x.jsx)(l.b,{path:"/settings/*",element:n?Object(x.jsx)(ct,{}):Object(x.jsx)(l.a,{to:"/"})}),Object(x.jsx)(l.b,{path:"/privacy-policy",element:Object(x.jsx)(ge,{})}),Object(x.jsx)(l.b,{path:"/recover-password",element:Object(x.jsx)(Ne,{})}),Object(x.jsx)(l.b,{path:"/login",element:n?Object(x.jsx)(l.a,{to:"/"}):Object(x.jsx)(Oe,{})}),Object(x.jsx)(l.b,{path:"/signup",element:n?Object(x.jsx)(l.a,{to:"/"}):Object(x.jsx)(xe,{})}),Object(x.jsx)(l.b,{path:"/set-new-password",element:Object(x.jsx)(we,{})})]})]})})]})};r.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(N,{children:Object(x.jsx)(ut,{})})}),document.getElementById("root"))},59:function(e,t,n){},88:function(e,t,n){},94:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[147,1,2]]]);
//# sourceMappingURL=main.d0d2136d.chunk.js.map